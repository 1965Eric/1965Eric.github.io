<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Section 1 Overview | Data Science Probability</title>
  <meta name="description" content="2 Section 1 Overview | Data Science Probability" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Section 1 Overview | Data Science Probability" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Section 1 Overview | Data Science Probability" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="learning-objectives.html"/>
<link rel="next" href="section-2-overview.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="learning-objectives.html"><a href="learning-objectives.html"><i class="fa fa-check"></i><b>1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="1.1" data-path="learning-objectives.html"><a href="learning-objectives.html#course-overview"><i class="fa fa-check"></i><b>1.1</b> Course Overview</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="learning-objectives.html"><a href="learning-objectives.html#section-1-discrete-probability"><i class="fa fa-check"></i><b>1.1.1</b> Section 1: Discrete Probability</a></li>
<li class="chapter" data-level="1.1.2" data-path="learning-objectives.html"><a href="learning-objectives.html#section-2-continuous-probability"><i class="fa fa-check"></i><b>1.1.2</b> Section 2: Continuous Probability</a></li>
<li class="chapter" data-level="1.1.3" data-path="learning-objectives.html"><a href="learning-objectives.html#section-3-random-variables-sampling-models-and-the-central-limit-theorem"><i class="fa fa-check"></i><b>1.1.3</b> Section 3: Random Variables, Sampling Models, and The Central Limit Theorem</a></li>
<li class="chapter" data-level="1.1.4" data-path="learning-objectives.html"><a href="learning-objectives.html#section-4-the-big-short"><i class="fa fa-check"></i><b>1.1.4</b> Section 4: The Big Short</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="section-1-overview.html"><a href="section-1-overview.html"><i class="fa fa-check"></i><b>2</b> Section 1 Overview</a>
<ul>
<li class="chapter" data-level="2.1" data-path="section-1-overview.html"><a href="section-1-overview.html#discrete-probability"><i class="fa fa-check"></i><b>2.1</b> Discrete Probability</a></li>
<li class="chapter" data-level="2.2" data-path="section-1-overview.html"><a href="section-1-overview.html#monte-carlo-simulations"><i class="fa fa-check"></i><b>2.2</b> Monte Carlo Simulations</a></li>
<li class="chapter" data-level="2.3" data-path="section-1-overview.html"><a href="section-1-overview.html#setting-the-random-seed"><i class="fa fa-check"></i><b>2.3</b> Setting the Random Seed</a></li>
<li class="chapter" data-level="2.4" data-path="section-1-overview.html"><a href="section-1-overview.html#using-the-mean-function-for-probability"><i class="fa fa-check"></i><b>2.4</b> Using the mean Function for Probability</a></li>
<li class="chapter" data-level="2.5" data-path="section-1-overview.html"><a href="section-1-overview.html#probability-distributions"><i class="fa fa-check"></i><b>2.5</b> Probability Distributions</a></li>
<li class="chapter" data-level="2.6" data-path="section-1-overview.html"><a href="section-1-overview.html#independence"><i class="fa fa-check"></i><b>2.6</b> Independence</a></li>
<li class="chapter" data-level="2.7" data-path="section-1-overview.html"><a href="section-1-overview.html#assessment---introduction-to-discrete-probability-using-r"><i class="fa fa-check"></i><b>2.7</b> Assessment - Introduction to Discrete Probability (using R)</a></li>
<li class="chapter" data-level="2.8" data-path="section-1-overview.html"><a href="section-1-overview.html#combinations-and-permutations"><i class="fa fa-check"></i><b>2.8</b> Combinations and Permutations</a></li>
<li class="chapter" data-level="2.9" data-path="section-1-overview.html"><a href="section-1-overview.html#the-birthday-problem"><i class="fa fa-check"></i><b>2.9</b> The Birthday Problem</a></li>
<li class="chapter" data-level="2.10" data-path="section-1-overview.html"><a href="section-1-overview.html#sapply"><i class="fa fa-check"></i><b>2.10</b> sapply</a></li>
<li class="chapter" data-level="2.11" data-path="section-1-overview.html"><a href="section-1-overview.html#how-many-monte-carlo-experiments-are-enough"><i class="fa fa-check"></i><b>2.11</b> How many Monte Carlo Experiments are enough?</a></li>
<li class="chapter" data-level="2.12" data-path="section-1-overview.html"><a href="section-1-overview.html#assessment---combinations-and-permutations"><i class="fa fa-check"></i><b>2.12</b> Assessment - Combinations and Permutations</a></li>
<li class="chapter" data-level="2.13" data-path="section-1-overview.html"><a href="section-1-overview.html#the-addition-rule"><i class="fa fa-check"></i><b>2.13</b> The Addition rule</a></li>
<li class="chapter" data-level="2.14" data-path="section-1-overview.html"><a href="section-1-overview.html#the-monty-hall-problem"><i class="fa fa-check"></i><b>2.14</b> The Monty Hall Problem</a></li>
<li class="chapter" data-level="2.15" data-path="section-1-overview.html"><a href="section-1-overview.html#assessment---the-addition-rule-and-monty-hall"><i class="fa fa-check"></i><b>2.15</b> Assessment - The Addition Rule and Monty Hall</a></li>
<li class="chapter" data-level="2.16" data-path="section-1-overview.html"><a href="section-1-overview.html#assessment---olympic-running"><i class="fa fa-check"></i><b>2.16</b> Assessment - Olympic Running</a></li>
<li class="chapter" data-level="2.17" data-path="section-1-overview.html"><a href="section-1-overview.html#assessment---restaurant-management"><i class="fa fa-check"></i><b>2.17</b> Assessment - Restaurant Management</a></li>
<li class="chapter" data-level="2.18" data-path="section-1-overview.html"><a href="section-1-overview.html#assessment---esophageal-cancer-and-alcoholtobacco-use"><i class="fa fa-check"></i><b>2.18</b> Assessment - Esophageal cancer and alcohol/tobacco use</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="section-2-overview.html"><a href="section-2-overview.html"><i class="fa fa-check"></i><b>3</b> Section 2 Overview</a>
<ul>
<li class="chapter" data-level="3.1" data-path="section-2-overview.html"><a href="section-2-overview.html#continuous-probability"><i class="fa fa-check"></i><b>3.1</b> Continuous Probability</a></li>
<li class="chapter" data-level="3.2" data-path="section-2-overview.html"><a href="section-2-overview.html#theoretical-distribution"><i class="fa fa-check"></i><b>3.2</b> Theoretical Distribution</a></li>
<li class="chapter" data-level="3.3" data-path="section-2-overview.html"><a href="section-2-overview.html#probability-density"><i class="fa fa-check"></i><b>3.3</b> Probability Density</a></li>
<li class="chapter" data-level="3.4" data-path="section-2-overview.html"><a href="section-2-overview.html#monte-carlo-simulations-1"><i class="fa fa-check"></i><b>3.4</b> Monte Carlo simulations</a></li>
<li class="chapter" data-level="3.5" data-path="section-2-overview.html"><a href="section-2-overview.html#other-continuous-distributions"><i class="fa fa-check"></i><b>3.5</b> Other Continuous Distributions</a></li>
<li class="chapter" data-level="3.6" data-path="section-2-overview.html"><a href="section-2-overview.html#assessment---continuous-probability"><i class="fa fa-check"></i><b>3.6</b> Assessment - Continuous Probability</a></li>
<li class="chapter" data-level="3.7" data-path="section-2-overview.html"><a href="section-2-overview.html#assessment---act-scores-part-1"><i class="fa fa-check"></i><b>3.7</b> Assessment - ACT scores, part 1</a></li>
<li class="chapter" data-level="3.8" data-path="section-2-overview.html"><a href="section-2-overview.html#assessment---act-scores-part-2"><i class="fa fa-check"></i><b>3.8</b> Assessment - ACT scores, part 2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-3-overview.html"><a href="section-3-overview.html"><i class="fa fa-check"></i><b>4</b> Section 3 Overview</a>
<ul>
<li class="chapter" data-level="4.1" data-path="section-3-overview.html"><a href="section-3-overview.html#random-variables"><i class="fa fa-check"></i><b>4.1</b> Random variables</a></li>
<li class="chapter" data-level="4.2" data-path="section-3-overview.html"><a href="section-3-overview.html#sampling-models"><i class="fa fa-check"></i><b>4.2</b> Sampling Models</a></li>
<li class="chapter" data-level="4.3" data-path="section-3-overview.html"><a href="section-3-overview.html#distributions-versus-probability-distributions"><i class="fa fa-check"></i><b>4.3</b> Distributions versus Probability Distributions</a></li>
<li class="chapter" data-level="4.4" data-path="section-3-overview.html"><a href="section-3-overview.html#notation-for-random-variables"><i class="fa fa-check"></i><b>4.4</b> Notation for Random Variables</a></li>
<li class="chapter" data-level="4.5" data-path="section-3-overview.html"><a href="section-3-overview.html#central-limit-theorem-clt"><i class="fa fa-check"></i><b>4.5</b> Central Limit Theorem (CLT)</a></li>
<li class="chapter" data-level="4.6" data-path="section-3-overview.html"><a href="section-3-overview.html#assessment---random-variables-and-sampling-models"><i class="fa fa-check"></i><b>4.6</b> Assessment - Random Variables and Sampling Models</a></li>
<li class="chapter" data-level="4.7" data-path="section-3-overview.html"><a href="section-3-overview.html#averages-and-proportions"><i class="fa fa-check"></i><b>4.7</b> Averages and Proportions</a></li>
<li class="chapter" data-level="4.8" data-path="section-3-overview.html"><a href="section-3-overview.html#law-of-large-numbers"><i class="fa fa-check"></i><b>4.8</b> Law of Large Numbers</a></li>
<li class="chapter" data-level="4.9" data-path="section-3-overview.html"><a href="section-3-overview.html#how-large-is-large-in-clt"><i class="fa fa-check"></i><b>4.9</b> How Large is Large in CLT?</a></li>
<li class="chapter" data-level="4.10" data-path="section-3-overview.html"><a href="section-3-overview.html#assessment---the-central-limit-theorem"><i class="fa fa-check"></i><b>4.10</b> Assessment - The Central Limit Theorem</a></li>
<li class="chapter" data-level="4.11" data-path="section-3-overview.html"><a href="section-3-overview.html#assessment---sat-testing"><i class="fa fa-check"></i><b>4.11</b> Assessment - SAT Testing</a></li>
<li class="chapter" data-level="4.12" data-path="section-3-overview.html"><a href="section-3-overview.html#assessment---betting-on-roulette"><i class="fa fa-check"></i><b>4.12</b> Assessment - Betting on Roulette</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section-4-overview.html"><a href="section-4-overview.html"><i class="fa fa-check"></i><b>5</b> Section 4 Overview</a>
<ul>
<li class="chapter" data-level="5.1" data-path="section-4-overview.html"><a href="section-4-overview.html#interest-rates-explained"><i class="fa fa-check"></i><b>5.1</b> Interest Rates Explained</a></li>
<li class="chapter" data-level="5.2" data-path="section-4-overview.html"><a href="section-4-overview.html#the-big-short"><i class="fa fa-check"></i><b>5.2</b> The Big Short</a></li>
<li class="chapter" data-level="5.3" data-path="section-4-overview.html"><a href="section-4-overview.html#assessment---the-big-short"><i class="fa fa-check"></i><b>5.3</b> Assessment - The Big Short</a></li>
<li class="chapter" data-level="5.4" data-path="section-4-overview.html"><a href="section-4-overview.html#assessment---the-big-short-edx"><i class="fa fa-check"></i><b>5.4</b> Assessment - The Big Short (edX)</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Probability</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-1-overview" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Section 1 Overview</h1>
<p>Section 1 introduces you to Discrete Probability. Section 1 is divided into three parts:</p>
<ul>
<li>Introduction to Discrete Probability</li>
<li>Combinations and Permutations</li>
<li>Addition Rule and Monty Hall</li>
</ul>
<p>After completing Section 1, you will be able to:</p>
<ul>
<li>Apply basic probability theory to categorical data.</li>
<li>Perform a Monte Carlo simulation to approximate the results of repeating an experiment over and over, including simulating the outcomes in the Monty Hall problem.</li>
<li>Distinguish between: sampling with and without replacement, events that are and are not independent, and combinations and permutations.</li>
<li>Apply the multiplication and addition rules, as appropriate, to calculate the probably of multiple events occurring.</li>
<li>Use <strong>sapply</strong> instead of a for loop to perform element-wise operations on a function.</li>
</ul>
<div id="discrete-probability" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Discrete Probability</h2>
<p>The textbook for this section is available <a href="https://rafalab.github.io/dsbook/probability.html#discrete-probability">here</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>The <em>probability of an event</em> is the proportion of times the event occurs when we repeat the experiment independently under the same conditions.</li>
</ul>
<p><span class="math inline">\(\mbox{Pr}(A)\)</span> = probability of event A</p>
<ul>
<li>An <em>event</em> is defined as an outcome that can occur when when something happens by chance.</li>
<li>We can determine probabilities related to discrete variables (picking a red bead, choosing 48 Democrats and 52 Republicans from 100 likely voters) and continuous variables (height over 6 feet).</li>
</ul>
</div>
<div id="monte-carlo-simulations" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Monte Carlo Simulations</h2>
<p>The textbook for this section is available <a href="https://rafalab.github.io/dsbook/probability.html#monte-carlo-simulations">here</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>Monte Carlo simulations model the probability of different outcomes by repeating a random process a large enough number of times that the results are similar to what would be observed if the process were repeated forever.</li>
<li>The <strong>sample</strong> function draws random outcomes from a set of options.</li>
<li>The <strong>replicate</strong> function repeats lines of code a set number of times. It is used with <strong>sample</strong> and similar functions to run Monte Carlo simulations.</li>
</ul>
<p><em>Code: The rep function and the sample function</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="section-1-overview.html#cb1-1" aria-hidden="true"></a>beads &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="dt">times =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))    <span class="co"># create an urn with 2 red, 3 blue</span></span>
<span id="cb1-2"><a href="section-1-overview.html#cb1-2" aria-hidden="true"></a>beads    <span class="co"># view beads object</span></span></code></pre></div>
<pre><code>## [1] &quot;red&quot;  &quot;red&quot;  &quot;blue&quot; &quot;blue&quot; &quot;blue&quot;</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="section-1-overview.html#cb3-1" aria-hidden="true"></a><span class="kw">sample</span>(beads, <span class="dv">1</span>)    <span class="co"># sample 1 bead at random</span></span></code></pre></div>
<pre><code>## [1] &quot;red&quot;</code></pre>
<p><em>Code: Monte Carlo simulation</em></p>
<p>Note that your exact outcome values will differ because the sampling is random.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="section-1-overview.html#cb5-1" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span>    <span class="co"># number of times to draw 1 bead</span></span>
<span id="cb5-2"><a href="section-1-overview.html#cb5-2" aria-hidden="true"></a>events &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, <span class="kw">sample</span>(beads, <span class="dv">1</span>))    <span class="co"># draw 1 bead, B times</span></span>
<span id="cb5-3"><a href="section-1-overview.html#cb5-3" aria-hidden="true"></a>tab &lt;-<span class="st"> </span><span class="kw">table</span>(events)    <span class="co"># make a table of outcome counts</span></span>
<span id="cb5-4"><a href="section-1-overview.html#cb5-4" aria-hidden="true"></a>tab    <span class="co"># view count table</span></span></code></pre></div>
<pre><code>## events
## blue  red 
## 6013 3987</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="section-1-overview.html#cb7-1" aria-hidden="true"></a><span class="kw">prop.table</span>(tab)    <span class="co"># view table of outcome proportions</span></span></code></pre></div>
<pre><code>## events
##  blue   red 
## 0.601 0.399</code></pre>
</div>
<div id="setting-the-random-seed" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Setting the Random Seed</h2>
<p>The <strong>set.seed</strong> function</p>
<p>Before we continue, we will briefly explain the following important line of code:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="section-1-overview.html#cb9-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1986</span>)</span></code></pre></div>
<p>Throughout this book, we use random number generators. This implies that many of the results presented can actually change by chance, which then suggests that a frozen version of the book may show a different result than what you obtain when you try to code as shown in the book. This is actually fine since the results are random and change from time to time. However, if you want to to ensure that results are exactly the same every time you run them, you can set R’s random number generation seed to a specific number. Above we set it to 1986. We want to avoid using the same seed every time. A popular way to pick the seed is the year - month - day. For example, we picked 1986 on December 20, 2018: 2018 − 12 − 20 = 1986.</p>
<p>You can learn more about setting the seed by looking at the documentation:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="section-1-overview.html#cb10-1" aria-hidden="true"></a><span class="st">```</span><span class="dt">?set.seed</span></span></code></pre></div>
<p>In the exercises, we may ask you to set the seed to assure that the results you obtain are exactly what we expect them to be.</p>
<p><strong>Important note on seeds in R 3.5 and R 3.6</strong></p>
<p>R was updated to version 3.6 in early 2019. In this update, the default method for setting the seed changed. This means that exercises, videos, textbook excerpts and other code you encounter online may yield a different result based on your version of R.</p>
<p>If you are running R 3.6, you can revert to the original seed setting behavior by adding the argument sample.kind=“Rounding”. For example:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="section-1-overview.html#cb11-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb11-2"><a href="section-1-overview.html#cb11-2" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>, <span class="dt">sample.kind=</span><span class="st">&quot;Rounding&quot;</span>)    <span class="co"># will make R 3.6 generate a seed as in R 3.5</span></span></code></pre></div>
<p>Using the <code>sample.kind="Rounding"</code> argument will generate a message:</p>
<p><code>non-uniform 'Rounding' sampler used</code></p>
<p>This is not a warning or a cause for alarm - it is a confirmation that R is using the alternate seed generation method, and you should expect to receive this message in your console.</p>
<p><strong>If you use R 3.6, you should always use the second form of set.seed in this course series (outside of DataCamp assignments).</strong> Failure to do so may result in an otherwise correct answer being rejected by the grader. In most cases where a seed is required, you will be reminded of this fact.</p>
</div>
<div id="using-the-mean-function-for-probability" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Using the mean Function for Probability</h2>
<p><strong>An important application of the <code>mean</code> function</strong></p>
<p>In R, applying the <code>mean</code> function to a logical vector returns the proportion of elements that are TRUE. It is very common to use the <code>mean</code> function in this way to calculate probabilities and we will do so throughout the course.</p>
<p>Suppose you have the vector beads:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="section-1-overview.html#cb12-1" aria-hidden="true"></a>beads &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>), <span class="dt">times =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span>
<span id="cb12-2"><a href="section-1-overview.html#cb12-2" aria-hidden="true"></a>beads</span></code></pre></div>
<pre><code>## [1] &quot;red&quot;  &quot;red&quot;  &quot;blue&quot; &quot;blue&quot; &quot;blue&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="section-1-overview.html#cb14-1" aria-hidden="true"></a><span class="co"># To find the probability of drawing a blue bead at random, you can run:</span></span>
<span id="cb14-2"><a href="section-1-overview.html#cb14-2" aria-hidden="true"></a><span class="kw">mean</span>(beads <span class="op">==</span><span class="st"> &quot;blue&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 0.6</code></pre>
<p>This code is broken down into steps inside R. First, R evaluates the logical statement <code>beads == "blue"</code>, which generates the vector:</p>
<p><code>FALSE FALSE TRUE TRUE TRUE</code></p>
<p>When the <code>mean</code> function is applied, R coerces the logical values to numeric values, changing TRUE to 1 and FALSE to 0:</p>
<p><code>0 0 1 1 1</code></p>
<p>The mean of the zeros and ones thus gives the proportion of TRUE values. As we have learned and will continue to see, probabilities are directly related to the proportion of events that satisfy a requirement.</p>
</div>
<div id="probability-distributions" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Probability Distributions</h2>
<p>The textbook for this section is available <a href="https://rafalab.github.io/dsbook/probability.html#discrete-probability-distributions">here</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>The probability distribution for a variable describes the probability of observing each possible outcome.</li>
<li>For discrete categorical variables, the probability distribution is defined by the proportions for each group.</li>
</ul>
</div>
<div id="independence" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Independence</h2>
<p>The textbook section on independence, conditional probability and the multiplication rule is available <a href="https://rafalab.github.io/dsbook/probability.html#independence">here</a></p>
<p><strong>Key points</strong></p>
<ul>
<li><em>Conditional probabilities</em> compute the probability that an event occurs given information about dependent events. For example, the probability of drawing a second king given that the first draw is a king is:</li>
</ul>
<p><span class="math inline">\(\mbox{Pr}(\text{Card 2 is a king} \mid \text{Card 1 is a king}) = 3/51\)</span></p>
<ul>
<li>If two events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent, <span class="math inline">\(\mbox{Pr}(A \mid B) = \mbox{Pr}(A)\)</span>.</li>
<li>To determine the probability of multiple events occurring, we use the <em>multiplication rule</em>.</li>
</ul>
<p><strong>Equations</strong></p>
<p>The multiplication rule for independent events is:</p>
<p><span class="math inline">\(\mbox{Pr}(\text{A and B and C}) = \mbox{Pr}(A)\:X\:\mbox{Pr}(B)\:X\:\mbox{Pr}(C)\)</span></p>
<p>The multiplication rule for dependent events considers the conditional probability of both events occurring:</p>
<p><span class="math inline">\(\mbox{Pr}(\text{A and B}) = \mbox{Pr}(A)\:X\:\mbox{Pr}(B \mid A)\)</span></p>
<p>We can expand the multiplication rule for dependent events to more than 2 events:</p>
<p><span class="math inline">\(\mbox{Pr}(\text{A and B and C}) = \mbox{Pr}(A)\:X\:\mbox{Pr}(B \mid A)\:X\:\mbox{Pr}(C \mid \text{A and B})\)</span></p>
</div>
<div id="assessment---introduction-to-discrete-probability-using-r" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Assessment - Introduction to Discrete Probability (using R)</h2>
<ol style="list-style-type: decimal">
<li>Probability of cyan</li>
</ol>
<p>One ball will be drawn at random from a box containing: 3 cyan balls, 5 magenta balls, and 7 yellow balls.</p>
<p>What is the probability that the ball will be cyan?</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="section-1-overview.html#cb16-1" aria-hidden="true"></a>cyan &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb16-2"><a href="section-1-overview.html#cb16-2" aria-hidden="true"></a>magenta &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb16-3"><a href="section-1-overview.html#cb16-3" aria-hidden="true"></a>yellow &lt;-<span class="st"> </span><span class="dv">7</span></span>
<span id="cb16-4"><a href="section-1-overview.html#cb16-4" aria-hidden="true"></a></span>
<span id="cb16-5"><a href="section-1-overview.html#cb16-5" aria-hidden="true"></a><span class="co"># Assign a variable `p` as the probability of choosing a cyan ball from the box</span></span>
<span id="cb16-6"><a href="section-1-overview.html#cb16-6" aria-hidden="true"></a>p &lt;-<span class="st"> </span>cyan<span class="op">/</span>(cyan<span class="op">+</span>magenta<span class="op">+</span>yellow)</span>
<span id="cb16-7"><a href="section-1-overview.html#cb16-7" aria-hidden="true"></a></span>
<span id="cb16-8"><a href="section-1-overview.html#cb16-8" aria-hidden="true"></a><span class="co"># Print the variable `p` to the console</span></span>
<span id="cb16-9"><a href="section-1-overview.html#cb16-9" aria-hidden="true"></a>p</span></code></pre></div>
<pre><code>## [1] 0.2</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Probability of not cyan</li>
</ol>
<p>One ball will be drawn at random from a box containing: 3 cyan balls, 5 magenta balls, and 7 yellow balls.</p>
<p>What is the probability that the ball will not be cyan?</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="section-1-overview.html#cb18-1" aria-hidden="true"></a><span class="co"># `p` is defined as the probability of choosing a cyan ball from a box containing: 3 cyan balls, 5 magenta balls, and 7 yellow balls.</span></span>
<span id="cb18-2"><a href="section-1-overview.html#cb18-2" aria-hidden="true"></a><span class="co"># Using variable `p`, calculate the probability of choosing any ball that is not cyan from the box</span></span>
<span id="cb18-3"><a href="section-1-overview.html#cb18-3" aria-hidden="true"></a>p &lt;-<span class="st"> </span>cyan<span class="op">/</span>(cyan<span class="op">+</span>magenta<span class="op">+</span>yellow)</span>
<span id="cb18-4"><a href="section-1-overview.html#cb18-4" aria-hidden="true"></a>prop &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>p</span>
<span id="cb18-5"><a href="section-1-overview.html#cb18-5" aria-hidden="true"></a>prop</span></code></pre></div>
<pre><code>## [1] 0.8</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Sampling without replacement</li>
</ol>
<p>Instead of taking just one draw, consider taking two draws. You take the second draw without returning the first draw to the box. We call this sampling without replacement.</p>
<p>What is the probability that the first draw is cyan and that the second draw is not cyan?</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="section-1-overview.html#cb20-1" aria-hidden="true"></a><span class="co"># The variable `p_1` is the probability of choosing a cyan ball from the box on the first draw.</span></span>
<span id="cb20-2"><a href="section-1-overview.html#cb20-2" aria-hidden="true"></a>p_<span class="dv">1</span> &lt;-<span class="st"> </span>cyan <span class="op">/</span><span class="st"> </span>(cyan <span class="op">+</span><span class="st"> </span>magenta <span class="op">+</span><span class="st"> </span>yellow)</span>
<span id="cb20-3"><a href="section-1-overview.html#cb20-3" aria-hidden="true"></a></span>
<span id="cb20-4"><a href="section-1-overview.html#cb20-4" aria-hidden="true"></a><span class="co"># Assign a variable `p_2` as the probability of not choosing a cyan ball on the second draw without replacement.</span></span>
<span id="cb20-5"><a href="section-1-overview.html#cb20-5" aria-hidden="true"></a>p_<span class="dv">2</span> &lt;-<span class="st"> </span>(magenta<span class="op">+</span>yellow)<span class="op">/</span>((cyan<span class="dv">-1</span>)<span class="op">+</span>magenta<span class="op">+</span>yellow) </span>
<span id="cb20-6"><a href="section-1-overview.html#cb20-6" aria-hidden="true"></a>p_<span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.857</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="section-1-overview.html#cb22-1" aria-hidden="true"></a><span class="co"># Calculate the probability that the first draw is cyan and the second draw is not cyan using `p_1` and `p_2`.</span></span>
<span id="cb22-2"><a href="section-1-overview.html#cb22-2" aria-hidden="true"></a>p_<span class="dv">1</span> <span class="op">*</span><span class="st"> </span>p_<span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.171</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Sampling with replacement</li>
</ol>
<p>Now repeat the experiment, but this time, after taking the first draw and recording the color, return it back to the box and shake the box. We call this sampling with replacement. What is the probability that the first draw is cyan and that the second draw is not cyan?</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="section-1-overview.html#cb24-1" aria-hidden="true"></a><span class="co"># The variable &#39;p_1&#39; is the probability of choosing a cyan ball from the box on the first draw.</span></span>
<span id="cb24-2"><a href="section-1-overview.html#cb24-2" aria-hidden="true"></a>p_<span class="dv">1</span> &lt;-<span class="st"> </span>cyan <span class="op">/</span><span class="st"> </span>(cyan <span class="op">+</span><span class="st"> </span>magenta <span class="op">+</span><span class="st"> </span>yellow)</span>
<span id="cb24-3"><a href="section-1-overview.html#cb24-3" aria-hidden="true"></a></span>
<span id="cb24-4"><a href="section-1-overview.html#cb24-4" aria-hidden="true"></a><span class="co"># Assign a variable &#39;p_2&#39; as the probability of not choosing a cyan ball on the second draw with replacement.</span></span>
<span id="cb24-5"><a href="section-1-overview.html#cb24-5" aria-hidden="true"></a>p_<span class="dv">2</span> &lt;-<span class="st"> </span>(magenta <span class="op">+</span><span class="st"> </span>yellow) <span class="op">/</span><span class="st"> </span>(cyan <span class="op">+</span><span class="st"> </span>magenta <span class="op">+</span><span class="st"> </span>yellow)</span>
<span id="cb24-6"><a href="section-1-overview.html#cb24-6" aria-hidden="true"></a></span>
<span id="cb24-7"><a href="section-1-overview.html#cb24-7" aria-hidden="true"></a><span class="co"># Calculate the probability that the first draw is cyan and the second draw is not cyan using `p_1` and `p_2`.</span></span>
<span id="cb24-8"><a href="section-1-overview.html#cb24-8" aria-hidden="true"></a>p_<span class="dv">1</span>  <span class="op">*</span><span class="st"> </span>p_<span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 0.16</code></pre>
</div>
<div id="combinations-and-permutations" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Combinations and Permutations</h2>
<p>The textbook for this section is available <a href="https://rafalab.github.io/dsbook/probability.html#combinations-and-permutations">here</a></p>
<p><strong>Key points</strong></p>
<ul>
<li><strong>paste</strong> joins two strings and inserts a space in between.</li>
<li><strong>expand.grid</strong> gives the combinations of 2 vectors or lists.</li>
<li><strong>permutations(n,r)</strong> from the <strong>gtools</strong> package lists the different ways that <strong>r</strong> items can be selected from a set of <strong>n</strong> options when order matters.</li>
<li><strong>combinations(n,r)</strong> from the <strong>gtools</strong> package lists the different ways that <strong>r</strong> items can be selected from a set of <strong>n</strong> options when order does not matter.</li>
</ul>
<p><em>Code: Introducing paste and expand.grid</em></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="section-1-overview.html#cb26-1" aria-hidden="true"></a><span class="co"># joining strings with paste</span></span>
<span id="cb26-2"><a href="section-1-overview.html#cb26-2" aria-hidden="true"></a>number &lt;-<span class="st"> &quot;Three&quot;</span></span>
<span id="cb26-3"><a href="section-1-overview.html#cb26-3" aria-hidden="true"></a>suit &lt;-<span class="st"> &quot;Hearts&quot;</span></span>
<span id="cb26-4"><a href="section-1-overview.html#cb26-4" aria-hidden="true"></a><span class="kw">paste</span>(number, suit)</span></code></pre></div>
<pre><code>## [1] &quot;Three Hearts&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="section-1-overview.html#cb28-1" aria-hidden="true"></a><span class="co"># joining vectors element-wise with paste</span></span>
<span id="cb28-2"><a href="section-1-overview.html#cb28-2" aria-hidden="true"></a><span class="kw">paste</span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>], <span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>))</span></code></pre></div>
<pre><code>## [1] &quot;a 1&quot; &quot;b 2&quot; &quot;c 3&quot; &quot;d 4&quot; &quot;e 5&quot;</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="section-1-overview.html#cb30-1" aria-hidden="true"></a><span class="co"># generating combinations of 2 vectors with expand.grid</span></span>
<span id="cb30-2"><a href="section-1-overview.html#cb30-2" aria-hidden="true"></a><span class="kw">expand.grid</span>(<span class="dt">pants =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;black&quot;</span>), <span class="dt">shirt =</span> <span class="kw">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;grey&quot;</span>, <span class="st">&quot;plaid&quot;</span>))</span></code></pre></div>
<pre><code>##   pants shirt
## 1  blue white
## 2 black white
## 3  blue  grey
## 4 black  grey
## 5  blue plaid
## 6 black plaid</code></pre>
<p><em>Code: Generating a deck of cards</em></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="section-1-overview.html#cb32-1" aria-hidden="true"></a>suits &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Diamonds&quot;</span>, <span class="st">&quot;Clubs&quot;</span>, <span class="st">&quot;Hearts&quot;</span>, <span class="st">&quot;Spades&quot;</span>)</span>
<span id="cb32-2"><a href="section-1-overview.html#cb32-2" aria-hidden="true"></a>numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ace&quot;</span>, <span class="st">&quot;Deuce&quot;</span>, <span class="st">&quot;Three&quot;</span>, <span class="st">&quot;Four&quot;</span>, <span class="st">&quot;Five&quot;</span>, <span class="st">&quot;Six&quot;</span>, <span class="st">&quot;Seven&quot;</span>, <span class="st">&quot;Eight&quot;</span>, <span class="st">&quot;Nine&quot;</span>, <span class="st">&quot;Ten&quot;</span>, <span class="st">&quot;Jack&quot;</span>, <span class="st">&quot;Queen&quot;</span>, <span class="st">&quot;King&quot;</span>)</span>
<span id="cb32-3"><a href="section-1-overview.html#cb32-3" aria-hidden="true"></a>deck &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">number =</span> numbers, <span class="dt">suit =</span> suits)</span>
<span id="cb32-4"><a href="section-1-overview.html#cb32-4" aria-hidden="true"></a>deck &lt;-<span class="st"> </span><span class="kw">paste</span>(deck<span class="op">$</span>number, deck<span class="op">$</span>suit)</span>
<span id="cb32-5"><a href="section-1-overview.html#cb32-5" aria-hidden="true"></a></span>
<span id="cb32-6"><a href="section-1-overview.html#cb32-6" aria-hidden="true"></a><span class="co"># probability of drawing a king</span></span>
<span id="cb32-7"><a href="section-1-overview.html#cb32-7" aria-hidden="true"></a>kings &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;King&quot;</span>, suits)</span>
<span id="cb32-8"><a href="section-1-overview.html#cb32-8" aria-hidden="true"></a><span class="kw">mean</span>(deck <span class="op">%in%</span><span class="st"> </span>kings)</span></code></pre></div>
<pre><code>## [1] 0.0769</code></pre>
<p><em>Code: Permutations and combinations</em></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="section-1-overview.html#cb34-1" aria-hidden="true"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(gtools)) <span class="kw">install.packages</span>(<span class="st">&quot;gtools&quot;</span>)</span>
<span id="cb34-2"><a href="section-1-overview.html#cb34-2" aria-hidden="true"></a></span>
<span id="cb34-3"><a href="section-1-overview.html#cb34-3" aria-hidden="true"></a><span class="kw">library</span>(gtools)</span>
<span id="cb34-4"><a href="section-1-overview.html#cb34-4" aria-hidden="true"></a><span class="kw">permutations</span>(<span class="dv">5</span>,<span class="dv">2</span>)    <span class="co"># ways to choose 2 numbers in order from 1:5</span></span></code></pre></div>
<pre><code>##       [,1] [,2]
##  [1,]    1    2
##  [2,]    1    3
##  [3,]    1    4
##  [4,]    1    5
##  [5,]    2    1
##  [6,]    2    3
##  [7,]    2    4
##  [8,]    2    5
##  [9,]    3    1
## [10,]    3    2
## [11,]    3    4
## [12,]    3    5
## [13,]    4    1
## [14,]    4    2
## [15,]    4    3
## [16,]    4    5
## [17,]    5    1
## [18,]    5    2
## [19,]    5    3
## [20,]    5    4</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="section-1-overview.html#cb36-1" aria-hidden="true"></a>all_phone_numbers &lt;-<span class="st"> </span><span class="kw">permutations</span>(<span class="dv">10</span>, <span class="dv">7</span>, <span class="dt">v =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">9</span>)</span>
<span id="cb36-2"><a href="section-1-overview.html#cb36-2" aria-hidden="true"></a>n &lt;-<span class="st"> </span><span class="kw">nrow</span>(all_phone_numbers)</span>
<span id="cb36-3"><a href="section-1-overview.html#cb36-3" aria-hidden="true"></a>index &lt;-<span class="st"> </span><span class="kw">sample</span>(n, <span class="dv">5</span>)</span>
<span id="cb36-4"><a href="section-1-overview.html#cb36-4" aria-hidden="true"></a>all_phone_numbers[index,]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7]
## [1,]    4    0    2    6    9    1    7
## [2,]    3    7    6    5    0    2    9
## [3,]    4    9    2    5    3    8    7
## [4,]    0    8    6    2    4    5    3
## [5,]    9    4    8    0    6    3    5</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="section-1-overview.html#cb38-1" aria-hidden="true"></a><span class="kw">permutations</span>(<span class="dv">3</span>,<span class="dv">2</span>)    <span class="co"># order matters</span></span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    1
## [4,]    2    3
## [5,]    3    1
## [6,]    3    2</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="section-1-overview.html#cb40-1" aria-hidden="true"></a><span class="kw">combinations</span>(<span class="dv">3</span>,<span class="dv">2</span>)    <span class="co"># order does not matter</span></span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    3</code></pre>
<p><em>Code: Probability of drawing a second king given that one king is drawn</em></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="section-1-overview.html#cb42-1" aria-hidden="true"></a>hands &lt;-<span class="st"> </span><span class="kw">permutations</span>(<span class="dv">52</span>,<span class="dv">2</span>, <span class="dt">v =</span> deck)</span>
<span id="cb42-2"><a href="section-1-overview.html#cb42-2" aria-hidden="true"></a>first_card &lt;-<span class="st"> </span>hands[,<span class="dv">1</span>]</span>
<span id="cb42-3"><a href="section-1-overview.html#cb42-3" aria-hidden="true"></a>second_card &lt;-<span class="st"> </span>hands[,<span class="dv">2</span>]</span>
<span id="cb42-4"><a href="section-1-overview.html#cb42-4" aria-hidden="true"></a><span class="kw">sum</span>(first_card <span class="op">%in%</span><span class="st"> </span>kings)</span></code></pre></div>
<pre><code>## [1] 204</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="section-1-overview.html#cb44-1" aria-hidden="true"></a><span class="kw">sum</span>(first_card <span class="op">%in%</span><span class="st"> </span>kings <span class="op">&amp;</span><span class="st"> </span>second_card <span class="op">%in%</span><span class="st"> </span>kings) <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(first_card <span class="op">%in%</span><span class="st"> </span>kings)</span></code></pre></div>
<pre><code>## [1] 0.0588</code></pre>
<p><em>Code: Probability of a natural 21 in blackjack</em></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="section-1-overview.html#cb46-1" aria-hidden="true"></a>aces &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Ace&quot;</span>, suits)</span>
<span id="cb46-2"><a href="section-1-overview.html#cb46-2" aria-hidden="true"></a></span>
<span id="cb46-3"><a href="section-1-overview.html#cb46-3" aria-hidden="true"></a>facecard &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;King&quot;</span>, <span class="st">&quot;Queen&quot;</span>, <span class="st">&quot;Jack&quot;</span>, <span class="st">&quot;Ten&quot;</span>)</span>
<span id="cb46-4"><a href="section-1-overview.html#cb46-4" aria-hidden="true"></a>facecard &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">number =</span> facecard, <span class="dt">suit =</span> suits)</span>
<span id="cb46-5"><a href="section-1-overview.html#cb46-5" aria-hidden="true"></a>facecard &lt;-<span class="st"> </span><span class="kw">paste</span>(facecard<span class="op">$</span>number, facecard<span class="op">$</span>suit)</span>
<span id="cb46-6"><a href="section-1-overview.html#cb46-6" aria-hidden="true"></a></span>
<span id="cb46-7"><a href="section-1-overview.html#cb46-7" aria-hidden="true"></a>hands &lt;-<span class="st"> </span><span class="kw">combinations</span>(<span class="dv">52</span>, <span class="dv">2</span>, <span class="dt">v=</span>deck) <span class="co"># all possible hands</span></span>
<span id="cb46-8"><a href="section-1-overview.html#cb46-8" aria-hidden="true"></a></span>
<span id="cb46-9"><a href="section-1-overview.html#cb46-9" aria-hidden="true"></a><span class="co"># probability of a natural 21 given that the ace is listed first in `combinations`</span></span>
<span id="cb46-10"><a href="section-1-overview.html#cb46-10" aria-hidden="true"></a><span class="kw">mean</span>(hands[,<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[,<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard)</span></code></pre></div>
<pre><code>## [1] 0.0483</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="section-1-overview.html#cb48-1" aria-hidden="true"></a><span class="co"># probability of a natural 21 checking for both ace first and ace second</span></span>
<span id="cb48-2"><a href="section-1-overview.html#cb48-2" aria-hidden="true"></a><span class="kw">mean</span>((hands[,<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[,<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard)<span class="op">|</span>(hands[,<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hands[,<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>facecard))</span></code></pre></div>
<pre><code>## [1] 0.0483</code></pre>
<p><em>Code: Monte Carlo simulation of natural 21 in blackjack</em></p>
<p>Note that your exact values will differ because the process is random and the seed is not set.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="section-1-overview.html#cb50-1" aria-hidden="true"></a><span class="co"># code for one hand of blackjack</span></span>
<span id="cb50-2"><a href="section-1-overview.html#cb50-2" aria-hidden="true"></a>hand &lt;-<span class="st"> </span><span class="kw">sample</span>(deck, <span class="dv">2</span>)</span>
<span id="cb50-3"><a href="section-1-overview.html#cb50-3" aria-hidden="true"></a>hand</span></code></pre></div>
<pre><code>## [1] &quot;Six Spades&quot;  &quot;King Hearts&quot;</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="section-1-overview.html#cb52-1" aria-hidden="true"></a><span class="co"># code for B=10,000 hands of blackjack</span></span>
<span id="cb52-2"><a href="section-1-overview.html#cb52-2" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb52-3"><a href="section-1-overview.html#cb52-3" aria-hidden="true"></a>results &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb52-4"><a href="section-1-overview.html#cb52-4" aria-hidden="true"></a>  hand &lt;-<span class="st"> </span><span class="kw">sample</span>(deck, <span class="dv">2</span>)</span>
<span id="cb52-5"><a href="section-1-overview.html#cb52-5" aria-hidden="true"></a>  (hand[<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hand[<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>facecard) <span class="op">|</span><span class="st"> </span>(hand[<span class="dv">2</span>] <span class="op">%in%</span><span class="st"> </span>aces <span class="op">&amp;</span><span class="st"> </span>hand[<span class="dv">1</span>] <span class="op">%in%</span><span class="st"> </span>facecard)</span>
<span id="cb52-6"><a href="section-1-overview.html#cb52-6" aria-hidden="true"></a>})</span>
<span id="cb52-7"><a href="section-1-overview.html#cb52-7" aria-hidden="true"></a><span class="kw">mean</span>(results)</span></code></pre></div>
<pre><code>## [1] 0.048</code></pre>
</div>
<div id="the-birthday-problem" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> The Birthday Problem</h2>
<p>The textbook for this section is available <a href="https://rafalab.github.io/dsbook/probability.html#birthday-problem">here</a></p>
<p><strong>Key points</strong></p>
<ul>
<li><strong>duplicated</strong> takes a vector and returns a vector of the same length with <strong>TRUE</strong> for any elements that have appeared previously in that vector.</li>
<li>We can compute the probability of shared birthdays in a group of people by modeling birthdays as random draws from the numbers 1 through 365. We can then use this sampling model of birthdays to run a Monte Carlo simulation to estimate the probability of shared birthdays.</li>
</ul>
<p><em>Code: The birthday problem</em></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="section-1-overview.html#cb54-1" aria-hidden="true"></a><span class="co"># checking for duplicated bdays in one 50 person group</span></span>
<span id="cb54-2"><a href="section-1-overview.html#cb54-2" aria-hidden="true"></a>n &lt;-<span class="st"> </span><span class="dv">50</span></span>
<span id="cb54-3"><a href="section-1-overview.html#cb54-3" aria-hidden="true"></a>bdays &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">365</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)    <span class="co"># generate n random birthdays</span></span>
<span id="cb54-4"><a href="section-1-overview.html#cb54-4" aria-hidden="true"></a><span class="kw">any</span>(<span class="kw">duplicated</span>(bdays))    <span class="co"># check if any birthdays are duplicated</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="section-1-overview.html#cb56-1" aria-hidden="true"></a><span class="co"># Monte Carlo simulation with B=10000 replicates</span></span>
<span id="cb56-2"><a href="section-1-overview.html#cb56-2" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb56-3"><a href="section-1-overview.html#cb56-3" aria-hidden="true"></a>results &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {    <span class="co"># returns vector of B logical values</span></span>
<span id="cb56-4"><a href="section-1-overview.html#cb56-4" aria-hidden="true"></a>    bdays &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">365</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb56-5"><a href="section-1-overview.html#cb56-5" aria-hidden="true"></a>    <span class="kw">any</span>(<span class="kw">duplicated</span>(bdays))</span>
<span id="cb56-6"><a href="section-1-overview.html#cb56-6" aria-hidden="true"></a>})</span>
<span id="cb56-7"><a href="section-1-overview.html#cb56-7" aria-hidden="true"></a><span class="kw">mean</span>(results)    <span class="co"># calculates proportion of groups with duplicated bdays</span></span></code></pre></div>
<pre><code>## [1] 0.973</code></pre>
</div>
<div id="sapply" class="section level2" number="2.10">
<h2><span class="header-section-number">2.10</span> sapply</h2>
<p>The textbook discussion of the basics of <strong>sapply</strong> can be found <a href="https://rafalab.github.io/dsbook/programming-basics.html#vectorization">in this textbook section</a>.</p>
<p>The textbook discussion of <strong>sapply</strong> for the birthday problem can be found within <a href="https://rafalab.github.io/dsbook/probability.html#birthday-problem">the birthday problem section</a>.</p>
<p><strong>Key points</strong></p>
<ul>
<li>Some functions automatically apply element-wise to vectors, such as <strong>sqrt</strong> and *****.</li>
<li>However, other functions do not operate element-wise by default. This includes functions we define ourselves.</li>
<li>The function <strong>sapply(x, f)</strong> allows any other function <strong>f</strong> to be applied element-wise to the vector <strong>x</strong>.</li>
<li>The probability of an event happening is 1 minus the probability of that event not happening:</li>
</ul>
<p><span class="math inline">\(\mbox{Pr}(event) = 1 - \mbox{Pr}(\text{no event})\)</span></p>
<ul>
<li>We can compute the probability of shared birthdays mathematically:</li>
</ul>
<p><span class="math inline">\(\mbox{Pr}(\text{shared birthdays}) = 1 − \mbox{Pr}(\text{no shared birthdays}) = 1 − (1\:X\: \frac{364}{365}\:X \:\frac{363}{365}\:X...X\: \frac{365−n+1}{365})\)</span></p>
<p><em>Code: Function for calculating birthday problem Monte Carlo simulations for any value of n</em></p>
<p>Note that the function body of <strong>compute_prob</strong> is the code that we wrote earlier. If we write this code as a function, we can use <strong>sapply</strong> to apply this function to several values of <strong>n</strong>.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="section-1-overview.html#cb58-1" aria-hidden="true"></a><span class="co"># function to calculate probability of shared bdays across n people</span></span>
<span id="cb58-2"><a href="section-1-overview.html#cb58-2" aria-hidden="true"></a>compute_prob &lt;-<span class="st"> </span><span class="cf">function</span>(n, <span class="dt">B =</span> <span class="dv">10000</span>) {</span>
<span id="cb58-3"><a href="section-1-overview.html#cb58-3" aria-hidden="true"></a>    same_day &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb58-4"><a href="section-1-overview.html#cb58-4" aria-hidden="true"></a>        bdays &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">365</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb58-5"><a href="section-1-overview.html#cb58-5" aria-hidden="true"></a>        <span class="kw">any</span>(<span class="kw">duplicated</span>(bdays))</span>
<span id="cb58-6"><a href="section-1-overview.html#cb58-6" aria-hidden="true"></a>    })</span>
<span id="cb58-7"><a href="section-1-overview.html#cb58-7" aria-hidden="true"></a>    <span class="kw">mean</span>(same_day)</span>
<span id="cb58-8"><a href="section-1-overview.html#cb58-8" aria-hidden="true"></a>}</span>
<span id="cb58-9"><a href="section-1-overview.html#cb58-9" aria-hidden="true"></a></span>
<span id="cb58-10"><a href="section-1-overview.html#cb58-10" aria-hidden="true"></a>n &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">60</span>)</span></code></pre></div>
<p><em>Code: Element-wise operation over vectors and sapply</em></p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="section-1-overview.html#cb59-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb59-2"><a href="section-1-overview.html#cb59-2" aria-hidden="true"></a><span class="kw">sqrt</span>(x)    <span class="co"># sqrt operates on each element of the vector</span></span></code></pre></div>
<pre><code>##  [1] 1.00 1.41 1.73 2.00 2.24 2.45 2.65 2.83 3.00 3.16</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="section-1-overview.html#cb61-1" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb61-2"><a href="section-1-overview.html#cb61-2" aria-hidden="true"></a>x<span class="op">*</span>y    <span class="co"># * operates element-wise on both vectors</span></span></code></pre></div>
<pre><code>##  [1]   1   4   9  16  25  36  49  64  81 100</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="section-1-overview.html#cb63-1" aria-hidden="true"></a><span class="kw">compute_prob</span>(n)    <span class="co"># does not iterate over the vector n without sapply</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="section-1-overview.html#cb65-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb65-2"><a href="section-1-overview.html#cb65-2" aria-hidden="true"></a><span class="kw">sapply</span>(x, sqrt)    <span class="co"># this is equivalent to sqrt(x)</span></span></code></pre></div>
<pre><code>##  [1] 1.00 1.41 1.73 2.00 2.24 2.45 2.65 2.83 3.00 3.16</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="section-1-overview.html#cb67-1" aria-hidden="true"></a>prob &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, compute_prob)    <span class="co"># element-wise application of compute_prob to n</span></span>
<span id="cb67-2"><a href="section-1-overview.html#cb67-2" aria-hidden="true"></a><span class="kw">plot</span>(n, prob)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p><em>Computing birthday problem probabilities with sapply</em></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="section-1-overview.html#cb68-1" aria-hidden="true"></a><span class="co"># function for computing exact probability of shared birthdays for any n</span></span>
<span id="cb68-2"><a href="section-1-overview.html#cb68-2" aria-hidden="true"></a>exact_prob &lt;-<span class="st"> </span><span class="cf">function</span>(n){</span>
<span id="cb68-3"><a href="section-1-overview.html#cb68-3" aria-hidden="true"></a>    prob_unique &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">365</span>, <span class="dv">365</span><span class="op">-</span>n<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">365</span>   <span class="co"># vector of fractions for mult. rule</span></span>
<span id="cb68-4"><a href="section-1-overview.html#cb68-4" aria-hidden="true"></a>    <span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">prod</span>(prob_unique)    <span class="co"># calculate prob of no shared birthdays and subtract from 1</span></span>
<span id="cb68-5"><a href="section-1-overview.html#cb68-5" aria-hidden="true"></a>}</span>
<span id="cb68-6"><a href="section-1-overview.html#cb68-6" aria-hidden="true"></a></span>
<span id="cb68-7"><a href="section-1-overview.html#cb68-7" aria-hidden="true"></a><span class="co"># applying function element-wise to vector of n values</span></span>
<span id="cb68-8"><a href="section-1-overview.html#cb68-8" aria-hidden="true"></a>eprob &lt;-<span class="st"> </span><span class="kw">sapply</span>(n, exact_prob)</span>
<span id="cb68-9"><a href="section-1-overview.html#cb68-9" aria-hidden="true"></a></span>
<span id="cb68-10"><a href="section-1-overview.html#cb68-10" aria-hidden="true"></a><span class="co"># plotting Monte Carlo results and exact probabilities on same graph</span></span>
<span id="cb68-11"><a href="section-1-overview.html#cb68-11" aria-hidden="true"></a><span class="kw">plot</span>(n, prob)    <span class="co"># plot Monte Carlo results</span></span>
<span id="cb68-12"><a href="section-1-overview.html#cb68-12" aria-hidden="true"></a><span class="kw">lines</span>(n, eprob, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)    <span class="co"># add line for exact prob</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
<div id="how-many-monte-carlo-experiments-are-enough" class="section level2" number="2.11">
<h2><span class="header-section-number">2.11</span> How many Monte Carlo Experiments are enough?</h2>
<p>Here is a link to the <a href="https://rafalab.github.io/dsbook/probability.html#infinity-in-practice">matching textbook section</a>.</p>
<p><strong>Key points</strong></p>
<ul>
<li>The larger the number of Monte Carlo replicates <span class="math inline">\(B\)</span>, the more accurate the estimate.</li>
<li>Determining the appropriate size for <span class="math inline">\(B\)</span> can require advanced statistics.</li>
<li>One practical approach is to try many sizes for <span class="math inline">\(B\)</span> and look for sizes that provide stable estimates.</li>
</ul>
<p><em>Code: Estimating a practical value of B</em></p>
<p>This code runs Monte Carlo simulations to estimate the probability of shared birthdays using several <strong>B</strong> values and plots the results. When <strong>B</strong> is large enough that the estimated probability stays stable, then we have selected a useful value of <strong>B</strong>.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="section-1-overview.html#cb69-1" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">^</span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dt">len =</span> <span class="dv">100</span>)    <span class="co"># defines vector of many B values</span></span>
<span id="cb69-2"><a href="section-1-overview.html#cb69-2" aria-hidden="true"></a>compute_prob &lt;-<span class="st"> </span><span class="cf">function</span>(B, <span class="dt">n =</span> <span class="dv">22</span>){    <span class="co"># function to run Monte Carlo simulation with each B</span></span>
<span id="cb69-3"><a href="section-1-overview.html#cb69-3" aria-hidden="true"></a>    same_day &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb69-4"><a href="section-1-overview.html#cb69-4" aria-hidden="true"></a>        bdays &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">365</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb69-5"><a href="section-1-overview.html#cb69-5" aria-hidden="true"></a>        <span class="kw">any</span>(<span class="kw">duplicated</span>(bdays))</span>
<span id="cb69-6"><a href="section-1-overview.html#cb69-6" aria-hidden="true"></a>    })</span>
<span id="cb69-7"><a href="section-1-overview.html#cb69-7" aria-hidden="true"></a>    <span class="kw">mean</span>(same_day)</span>
<span id="cb69-8"><a href="section-1-overview.html#cb69-8" aria-hidden="true"></a>}</span>
<span id="cb69-9"><a href="section-1-overview.html#cb69-9" aria-hidden="true"></a>prob &lt;-<span class="st"> </span><span class="kw">sapply</span>(B, compute_prob)    <span class="co"># apply compute_prob to many values of B</span></span>
<span id="cb69-10"><a href="section-1-overview.html#cb69-10" aria-hidden="true"></a><span class="kw">plot</span>(<span class="kw">log10</span>(B), prob, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>)    <span class="co"># plot a line graph of estimates</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
</div>
<div id="assessment---combinations-and-permutations" class="section level2" number="2.12">
<h2><span class="header-section-number">2.12</span> Assessment - Combinations and Permutations</h2>
<p>1.Imagine you draw two balls from a box containing colored balls. You either replace the first ball before you draw the second or you leave the first ball out of the box when you draw the second ball.</p>
<p>Under which situation are the two draws independent of one another?</p>
<p>Remember that two events A and B are independent if:</p>
<p><span class="math inline">\(\mbox{Pr}(\text{A and B}) = \mbox{Pr}(A)P(B)\)</span></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. You don’t replace the first ball before drawing the next.</li>
<li><input type="checkbox" disabled="" checked="" />
B. You do replace the first ball before drawing the next.</li>
<li><input type="checkbox" disabled="" />
C. Neither situation describes independent events.</li>
<li><input type="checkbox" disabled="" />
D. Both situations describe independent events.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Say you’ve drawn 5 balls from the a box that has 3 cyan balls, 5 magenta balls, and 7 yellow balls, with replacement, and all have been yellow.</li>
</ol>
<p>What is the probability that the next one is yellow?</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="section-1-overview.html#cb70-1" aria-hidden="true"></a><span class="co"># Assign the variable &#39;p_yellow&#39; as the probability that a yellow ball is drawn from the box.</span></span>
<span id="cb70-2"><a href="section-1-overview.html#cb70-2" aria-hidden="true"></a>p_yellow &lt;-<span class="st"> </span>yellow <span class="op">/</span><span class="st"> </span>(cyan <span class="op">+</span><span class="st"> </span>magenta <span class="op">+</span><span class="st"> </span>yellow)</span>
<span id="cb70-3"><a href="section-1-overview.html#cb70-3" aria-hidden="true"></a></span>
<span id="cb70-4"><a href="section-1-overview.html#cb70-4" aria-hidden="true"></a><span class="co"># Using the variable &#39;p_yellow&#39;, calculate the probability of drawing a yellow ball on the sixth draw. Print this value to the console.</span></span>
<span id="cb70-5"><a href="section-1-overview.html#cb70-5" aria-hidden="true"></a>p_yellow</span></code></pre></div>
<pre><code>## [1] 0.467</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>If you roll a 6-sided die once, what is the probability of not seeing a 6? If you roll a 6-sided die six times, what is the probability of not seeing a 6 on any roll?</li>
</ol>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="section-1-overview.html#cb72-1" aria-hidden="true"></a><span class="co"># Assign the variable &#39;p_no6&#39; as the probability of not seeing a 6 on a single roll.</span></span>
<span id="cb72-2"><a href="section-1-overview.html#cb72-2" aria-hidden="true"></a>p_no6 &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">/</span><span class="dv">6</span></span>
<span id="cb72-3"><a href="section-1-overview.html#cb72-3" aria-hidden="true"></a></span>
<span id="cb72-4"><a href="section-1-overview.html#cb72-4" aria-hidden="true"></a><span class="co"># Calculate the probability of not seeing a 6 on six rolls using `p_no6`. Print your result to the console: do not assign it to a variable.</span></span>
<span id="cb72-5"><a href="section-1-overview.html#cb72-5" aria-hidden="true"></a>p_no6<span class="op">*</span>p_no6<span class="op">*</span>p_no6<span class="op">*</span>p_no6<span class="op">*</span>p_no6<span class="op">*</span>p_no6</span></code></pre></div>
<pre><code>## [1] 0.335</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Two teams, say the Celtics and the Cavs, are playing a seven game series. The Cavs are a better team and have a 60% chance of winning each game.</li>
</ol>
<p>What is the probability that the Celtics win at least one game? Remember that the Celtics must win one of the first four games, or the series will be over!</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="section-1-overview.html#cb74-1" aria-hidden="true"></a><span class="co"># Assign the variable `p_cavs_win4` as the probability that the Cavs will win the first four games of the series.</span></span>
<span id="cb74-2"><a href="section-1-overview.html#cb74-2" aria-hidden="true"></a>p_cavs_win4 &lt;-<span class="st"> </span>(<span class="dv">3</span><span class="op">/</span><span class="dv">5</span>)<span class="op">*</span>(<span class="dv">3</span><span class="op">/</span><span class="dv">5</span>)<span class="op">*</span>(<span class="dv">3</span><span class="op">/</span><span class="dv">5</span>)<span class="op">*</span>(<span class="dv">3</span><span class="op">/</span><span class="dv">5</span>)</span>
<span id="cb74-3"><a href="section-1-overview.html#cb74-3" aria-hidden="true"></a></span>
<span id="cb74-4"><a href="section-1-overview.html#cb74-4" aria-hidden="true"></a><span class="co"># Using the variable `p_cavs_win4`, calculate the probability that the Celtics win at least one game in the first four games of the series.</span></span>
<span id="cb74-5"><a href="section-1-overview.html#cb74-5" aria-hidden="true"></a><span class="dv">1</span><span class="op">-</span>p_cavs_win4</span></code></pre></div>
<pre><code>## [1] 0.87</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>Create a Monte Carlo simulation to confirm your answer to the previous problem by estimating how frequently the Celtics win at least 1 of 4 games. Use <code>B &lt;- 10000</code> simulations.</li>
</ol>
<p>The provided sample code simulates a single series of four random games, <code>simulated_games</code></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="section-1-overview.html#cb76-1" aria-hidden="true"></a><span class="co"># This line of example code simulates four independent random games where the Celtics either lose or win. Copy this example code to use within the `replicate` function.</span></span>
<span id="cb76-2"><a href="section-1-overview.html#cb76-2" aria-hidden="true"></a>simulated_games &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;lose&quot;</span>,<span class="st">&quot;win&quot;</span>), <span class="dv">4</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))</span>
<span id="cb76-3"><a href="section-1-overview.html#cb76-3" aria-hidden="true"></a></span>
<span id="cb76-4"><a href="section-1-overview.html#cb76-4" aria-hidden="true"></a><span class="co"># The variable &#39;B&#39; specifies the number of times we want the simulation to run. Let&#39;s run the Monte Carlo simulation 10,000 times.</span></span>
<span id="cb76-5"><a href="section-1-overview.html#cb76-5" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb76-6"><a href="section-1-overview.html#cb76-6" aria-hidden="true"></a></span>
<span id="cb76-7"><a href="section-1-overview.html#cb76-7" aria-hidden="true"></a><span class="co"># Use the `set.seed` function to make sure your answer matches the expected result after random sampling.</span></span>
<span id="cb76-8"><a href="section-1-overview.html#cb76-8" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb76-9"><a href="section-1-overview.html#cb76-9" aria-hidden="true"></a></span>
<span id="cb76-10"><a href="section-1-overview.html#cb76-10" aria-hidden="true"></a><span class="co"># Create an object called `celtic_wins` that replicates two steps for B iterations: (1) generating a random four-game series `simulated_games` using the example code, then (2) determining whether the simulated series contains at least one win for the Celtics.</span></span>
<span id="cb76-11"><a href="section-1-overview.html#cb76-11" aria-hidden="true"></a>celtic_wins &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, { </span>
<span id="cb76-12"><a href="section-1-overview.html#cb76-12" aria-hidden="true"></a>  simulated_games &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;lose&quot;</span>,<span class="st">&quot;win&quot;</span>), <span class="dv">4</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))</span>
<span id="cb76-13"><a href="section-1-overview.html#cb76-13" aria-hidden="true"></a>  <span class="kw">any</span>(simulated_games<span class="op">==</span><span class="st">&quot;win&quot;</span>)}</span>
<span id="cb76-14"><a href="section-1-overview.html#cb76-14" aria-hidden="true"></a>)</span>
<span id="cb76-15"><a href="section-1-overview.html#cb76-15" aria-hidden="true"></a></span>
<span id="cb76-16"><a href="section-1-overview.html#cb76-16" aria-hidden="true"></a><span class="co"># Calculate the frequency out of B iterations that the Celtics won at least one game. Print your answer to the console.</span></span>
<span id="cb76-17"><a href="section-1-overview.html#cb76-17" aria-hidden="true"></a><span class="kw">mean</span>(celtic_wins)</span></code></pre></div>
<pre><code>## [1] 0.876</code></pre>
</div>
<div id="the-addition-rule" class="section level2" number="2.13">
<h2><span class="header-section-number">2.13</span> The Addition rule</h2>
<p>Here is a link to the textbook section on the <a href="https://rafalab.github.io/dsbook/probability.html#addition-rule">addition rule</a>.</p>
<p><strong>Key points</strong></p>
<ul>
<li>The addition rule states that the probability of event <span class="math inline">\(A\)</span> or event <span class="math inline">\(B\)</span> happening is the probability of event <span class="math inline">\(A\)</span> plus the probability of event <span class="math inline">\(B\)</span> minus the probability of both events <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> happening together.</li>
</ul>
<p><span class="math inline">\(\mbox{Pr}(\text{A or B})=\mbox{Pr}(A) + \mbox{Pr}(B) − \mbox{Pr}(\text{A and B})\)</span></p>
<p>Note that <span class="math inline">\((\text{A or B})\)</span> is equivalent to <span class="math inline">\((A \mid B)\)</span>.</p>
<p><em>Example: The addition rule for a natural 21 in blackjack</em></p>
<p>We apply the addition rule where <span class="math inline">\(A\)</span> = drawing an ace then a facecard and <span class="math inline">\(B\)</span> = drawing a facecard then an ace. Note that in this case, both events A and B cannot happen at the same time, so <span class="math inline">\(\mbox{Pr}(\text{A and B}) = 0\)</span>.</p>
<p><span class="math inline">\(\mbox{Pr}(\text{ace then facecard}) = \frac{4}{52}\:X\: \frac{16}{51}\)</span></p>
<p><span class="math inline">\(\mbox{Pr}(\text{facecard then ace}) = \frac{16}{52}\:X\: \frac{4}{51}\)</span></p>
<p><span class="math inline">\(\mbox{Pr}(\text{ace then facecard} \mid \text{facecard then ace}) = \frac{4}{52}\:X\: \frac{16}{51} + \frac{16}{52}\:X\: \frac{4}{51} = 0.0483\)</span></p>
</div>
<div id="the-monty-hall-problem" class="section level2" number="2.14">
<h2><span class="header-section-number">2.14</span> The Monty Hall Problem</h2>
<p>Here is the textbook section on the <a href="https://rafalab.github.io/dsbook/probability.html#monty-hall-problem">Monty Hall Problem</a>.</p>
<p><em>Key points</em></p>
<ul>
<li>Monte Carlo simulations can be used to simulate random outcomes, which makes them useful when exploring ambiguous or less intuitive problems like the Monty Hall problem.</li>
<li>In the Monty Hall problem, contestants choose one of three doors that may contain a prize. Then, one of the doors that was not chosen by the contestant and does not contain a prize is revealed. The contestant can then choose whether to stick with the original choice or switch to the remaining unopened door.</li>
<li>Although it may seem intuitively like the contestant has a 1 in 2 chance of winning regardless of whether they stick or switch, Monte Carlo simulations demonstrate that the actual probability of winning is 1 in 3 with the stick strategy and 2 in 3 with the switch strategy.</li>
<li>For more on the Monty Hall problem, you can <a href="https://www.khanacademy.org/math/precalculus/prob-comb/dependent-events-precalc/v/monty-hall-problem">watch a detailed explanation here</a> or <a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">read an explanation here</a>.</li>
</ul>
<p><em>Code: Monte Carlo simulation of stick strategy</em></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="section-1-overview.html#cb78-1" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb78-2"><a href="section-1-overview.html#cb78-2" aria-hidden="true"></a>stick &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb78-3"><a href="section-1-overview.html#cb78-3" aria-hidden="true"></a>  doors &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb78-4"><a href="section-1-overview.html#cb78-4" aria-hidden="true"></a>  prize &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;car&quot;</span>,<span class="st">&quot;goat&quot;</span>,<span class="st">&quot;goat&quot;</span>))    <span class="co"># puts prizes in random order</span></span>
<span id="cb78-5"><a href="section-1-overview.html#cb78-5" aria-hidden="true"></a>  prize_door &lt;-<span class="st"> </span>doors[prize <span class="op">==</span><span class="st"> &quot;car&quot;</span>]    <span class="co"># note which door has prize</span></span>
<span id="cb78-6"><a href="section-1-overview.html#cb78-6" aria-hidden="true"></a>  my_pick  &lt;-<span class="st"> </span><span class="kw">sample</span>(doors, <span class="dv">1</span>)    <span class="co"># note which door is chosen</span></span>
<span id="cb78-7"><a href="section-1-overview.html#cb78-7" aria-hidden="true"></a>  show &lt;-<span class="st"> </span><span class="kw">sample</span>(doors[<span class="op">!</span>doors <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(my_pick, prize_door)],<span class="dv">1</span>)    <span class="co"># open door with no prize that isn&#39;t chosen</span></span>
<span id="cb78-8"><a href="section-1-overview.html#cb78-8" aria-hidden="true"></a>  stick &lt;-<span class="st"> </span>my_pick    <span class="co"># stick with original door</span></span>
<span id="cb78-9"><a href="section-1-overview.html#cb78-9" aria-hidden="true"></a>  stick <span class="op">==</span><span class="st"> </span>prize_door    <span class="co"># test whether the original door has the prize</span></span>
<span id="cb78-10"><a href="section-1-overview.html#cb78-10" aria-hidden="true"></a>})</span>
<span id="cb78-11"><a href="section-1-overview.html#cb78-11" aria-hidden="true"></a><span class="kw">mean</span>(stick)    <span class="co"># probability of choosing prize door when sticking</span></span></code></pre></div>
<pre><code>## [1] 0.323</code></pre>
<p><em>Code: Monte Carlo simulation of switch strategy</em></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="section-1-overview.html#cb80-1" aria-hidden="true"></a><span class="cf">switch</span> &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb80-2"><a href="section-1-overview.html#cb80-2" aria-hidden="true"></a>  doors &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb80-3"><a href="section-1-overview.html#cb80-3" aria-hidden="true"></a>  prize &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;car&quot;</span>,<span class="st">&quot;goat&quot;</span>,<span class="st">&quot;goat&quot;</span>))    <span class="co"># puts prizes in random order</span></span>
<span id="cb80-4"><a href="section-1-overview.html#cb80-4" aria-hidden="true"></a>  prize_door &lt;-<span class="st"> </span>doors[prize <span class="op">==</span><span class="st"> &quot;car&quot;</span>]    <span class="co"># note which door has prize</span></span>
<span id="cb80-5"><a href="section-1-overview.html#cb80-5" aria-hidden="true"></a>  my_pick  &lt;-<span class="st"> </span><span class="kw">sample</span>(doors, <span class="dv">1</span>)    <span class="co"># note which door is chosen first</span></span>
<span id="cb80-6"><a href="section-1-overview.html#cb80-6" aria-hidden="true"></a>  show &lt;-<span class="st"> </span><span class="kw">sample</span>(doors[<span class="op">!</span>doors <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(my_pick, prize_door)], <span class="dv">1</span>)    <span class="co"># open door with no prize that isn&#39;t chosen</span></span>
<span id="cb80-7"><a href="section-1-overview.html#cb80-7" aria-hidden="true"></a>  <span class="cf">switch</span> &lt;-<span class="st"> </span>doors[<span class="op">!</span>doors<span class="op">%in%</span><span class="kw">c</span>(my_pick, show)]    <span class="co"># switch to the door that wasn&#39;t chosen first or opened</span></span>
<span id="cb80-8"><a href="section-1-overview.html#cb80-8" aria-hidden="true"></a>  <span class="cf">switch</span> <span class="op">==</span><span class="st"> </span>prize_door    <span class="co"># test whether the switched door has the prize</span></span>
<span id="cb80-9"><a href="section-1-overview.html#cb80-9" aria-hidden="true"></a>})</span>
<span id="cb80-10"><a href="section-1-overview.html#cb80-10" aria-hidden="true"></a><span class="kw">mean</span>(<span class="cf">switch</span>)    <span class="co"># probability of choosing prize door when switching</span></span></code></pre></div>
<pre><code>## [1] 0.672</code></pre>
</div>
<div id="assessment---the-addition-rule-and-monty-hall" class="section level2" number="2.15">
<h2><span class="header-section-number">2.15</span> Assessment - The Addition Rule and Monty Hall</h2>
<ol style="list-style-type: decimal">
<li>Two teams, say the Cavs and the Warriors, are playing a seven game championship series. The first to win four games wins the series. The teams are equally good, so they each have a 50-50 chance of winning each game.</li>
</ol>
<p>If the Cavs lose the first game, what is the probability that they win the series?</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="section-1-overview.html#cb82-1" aria-hidden="true"></a><span class="co"># Assign a variable &#39;n&#39; as the number of remaining games.</span></span>
<span id="cb82-2"><a href="section-1-overview.html#cb82-2" aria-hidden="true"></a>n &lt;-<span class="dv">6</span></span>
<span id="cb82-3"><a href="section-1-overview.html#cb82-3" aria-hidden="true"></a></span>
<span id="cb82-4"><a href="section-1-overview.html#cb82-4" aria-hidden="true"></a><span class="co"># Assign a variable `outcomes` as a vector of possible game outcomes, where 0 indicates a loss and 1 indicates a win for the Cavs.</span></span>
<span id="cb82-5"><a href="section-1-overview.html#cb82-5" aria-hidden="true"></a>outcomes &lt;-<span class="st"> </span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>)</span>
<span id="cb82-6"><a href="section-1-overview.html#cb82-6" aria-hidden="true"></a></span>
<span id="cb82-7"><a href="section-1-overview.html#cb82-7" aria-hidden="true"></a><span class="co"># Assign a variable `l` to a list of all possible outcomes in all remaining games. Use the `rep` function on `list(outcomes)` to create list of length `n`.</span></span>
<span id="cb82-8"><a href="section-1-overview.html#cb82-8" aria-hidden="true"></a>l &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">list</span>(outcomes), n)</span>
<span id="cb82-9"><a href="section-1-overview.html#cb82-9" aria-hidden="true"></a></span>
<span id="cb82-10"><a href="section-1-overview.html#cb82-10" aria-hidden="true"></a><span class="co"># Create a data frame named &#39;possibilities&#39; that contains all combinations of possible outcomes for the remaining games.</span></span>
<span id="cb82-11"><a href="section-1-overview.html#cb82-11" aria-hidden="true"></a>possibilities &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(l)</span>
<span id="cb82-12"><a href="section-1-overview.html#cb82-12" aria-hidden="true"></a></span>
<span id="cb82-13"><a href="section-1-overview.html#cb82-13" aria-hidden="true"></a><span class="co"># Create a vector named &#39;results&#39; that indicates whether each row in the data frame &#39;possibilities&#39; contains enough wins for the Cavs to win the series.</span></span>
<span id="cb82-14"><a href="section-1-overview.html#cb82-14" aria-hidden="true"></a>results &lt;-<span class="st"> </span><span class="kw">rowSums</span>(possibilities)<span class="op">&gt;=</span><span class="dv">4</span></span>
<span id="cb82-15"><a href="section-1-overview.html#cb82-15" aria-hidden="true"></a></span>
<span id="cb82-16"><a href="section-1-overview.html#cb82-16" aria-hidden="true"></a><span class="co"># Calculate the proportion of &#39;results&#39; in which the Cavs win the series. Print the outcome to the console.</span></span>
<span id="cb82-17"><a href="section-1-overview.html#cb82-17" aria-hidden="true"></a><span class="kw">mean</span>(results)</span></code></pre></div>
<pre><code>## [1] 0.344</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Confirm the results of the previous question with a Monte Carlo simulation to estimate the probability of the Cavs winning the series after losing the first game.</li>
</ol>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="section-1-overview.html#cb84-1" aria-hidden="true"></a><span class="co"># The variable `B` specifies the number of times we want the simulation to run. Let&#39;s run the Monte Carlo simulation 10,000 times.</span></span>
<span id="cb84-2"><a href="section-1-overview.html#cb84-2" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb84-3"><a href="section-1-overview.html#cb84-3" aria-hidden="true"></a></span>
<span id="cb84-4"><a href="section-1-overview.html#cb84-4" aria-hidden="true"></a><span class="co"># Use the `set.seed` function to make sure your answer matches the expected result after random sampling.</span></span>
<span id="cb84-5"><a href="section-1-overview.html#cb84-5" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb84-6"><a href="section-1-overview.html#cb84-6" aria-hidden="true"></a></span>
<span id="cb84-7"><a href="section-1-overview.html#cb84-7" aria-hidden="true"></a><span class="co"># Create an object called `results` that replicates for `B` iterations a simulated series and determines whether that series contains at least four wins for the Cavs.</span></span>
<span id="cb84-8"><a href="section-1-overview.html#cb84-8" aria-hidden="true"></a>results &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, { </span>
<span id="cb84-9"><a href="section-1-overview.html#cb84-9" aria-hidden="true"></a>  cavs_wins &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dv">6</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb84-10"><a href="section-1-overview.html#cb84-10" aria-hidden="true"></a>  <span class="kw">sum</span>(cavs_wins)<span class="op">&gt;=</span><span class="dv">4</span> }</span>
<span id="cb84-11"><a href="section-1-overview.html#cb84-11" aria-hidden="true"></a>)</span>
<span id="cb84-12"><a href="section-1-overview.html#cb84-12" aria-hidden="true"></a></span>
<span id="cb84-13"><a href="section-1-overview.html#cb84-13" aria-hidden="true"></a><span class="co"># Calculate the frequency out of `B` iterations that the Cavs won at least four games in the remainder of the series. Print your answer to the console.</span></span>
<span id="cb84-14"><a href="section-1-overview.html#cb84-14" aria-hidden="true"></a><span class="kw">mean</span>(results)</span></code></pre></div>
<pre><code>## [1] 0.345</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Two teams, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span>, are playing a seven series game series. Team <span class="math inline">\(A\)</span> is better than team <span class="math inline">\(B\)</span> and has a <code>p &gt; 0.5</code> chance of winning each game.</li>
</ol>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="section-1-overview.html#cb86-1" aria-hidden="true"></a><span class="co"># Let&#39;s assign the variable &#39;p&#39; as the vector of probabilities that team A will win.</span></span>
<span id="cb86-2"><a href="section-1-overview.html#cb86-2" aria-hidden="true"></a>p &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="fl">0.5</span>, <span class="fl">0.95</span>, <span class="fl">0.025</span>)</span>
<span id="cb86-3"><a href="section-1-overview.html#cb86-3" aria-hidden="true"></a></span>
<span id="cb86-4"><a href="section-1-overview.html#cb86-4" aria-hidden="true"></a><span class="co"># Given a value &#39;p&#39;, the probability of winning the series for the underdog team B can be computed with the following function based on a Monte Carlo simulation:</span></span>
<span id="cb86-5"><a href="section-1-overview.html#cb86-5" aria-hidden="true"></a>prob_win &lt;-<span class="st"> </span><span class="cf">function</span>(p){</span>
<span id="cb86-6"><a href="section-1-overview.html#cb86-6" aria-hidden="true"></a>  B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb86-7"><a href="section-1-overview.html#cb86-7" aria-hidden="true"></a>  result &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb86-8"><a href="section-1-overview.html#cb86-8" aria-hidden="true"></a>    b_win &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>), <span class="dv">7</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">-</span>p, p))</span>
<span id="cb86-9"><a href="section-1-overview.html#cb86-9" aria-hidden="true"></a>    <span class="kw">sum</span>(b_win)<span class="op">&gt;=</span><span class="dv">4</span></span>
<span id="cb86-10"><a href="section-1-overview.html#cb86-10" aria-hidden="true"></a>    })</span>
<span id="cb86-11"><a href="section-1-overview.html#cb86-11" aria-hidden="true"></a>  <span class="kw">mean</span>(result)</span>
<span id="cb86-12"><a href="section-1-overview.html#cb86-12" aria-hidden="true"></a>}</span>
<span id="cb86-13"><a href="section-1-overview.html#cb86-13" aria-hidden="true"></a></span>
<span id="cb86-14"><a href="section-1-overview.html#cb86-14" aria-hidden="true"></a><span class="co"># Apply the &#39;prob_win&#39; function across the vector of probabilities that team A will win to determine the probability that team B will win. Call this object &#39;Pr&#39;.</span></span>
<span id="cb86-15"><a href="section-1-overview.html#cb86-15" aria-hidden="true"></a>Pr &lt;-<span class="st"> </span><span class="kw">sapply</span>(p, prob_win)</span>
<span id="cb86-16"><a href="section-1-overview.html#cb86-16" aria-hidden="true"></a></span>
<span id="cb86-17"><a href="section-1-overview.html#cb86-17" aria-hidden="true"></a><span class="co"># Plot the probability &#39;p&#39; on the x-axis and &#39;Pr&#39; on the y-axis.</span></span>
<span id="cb86-18"><a href="section-1-overview.html#cb86-18" aria-hidden="true"></a><span class="kw">plot</span>(p,Pr)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Repeat the previous exercise, but now keep the probability that team <span class="math inline">\(A\)</span> wins fixed at <code>p &lt;- 0.75</code> and compute the probability for different series lengths.</li>
</ol>
<p>For example, wins in best of 1 game, 3 games, 5 games, and so on through a series that lasts 25 games.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="section-1-overview.html#cb87-1" aria-hidden="true"></a><span class="co"># Given a value &#39;p&#39;, the probability of winning the series for the underdog team B can be computed with the following function based on a Monte Carlo simulation:</span></span>
<span id="cb87-2"><a href="section-1-overview.html#cb87-2" aria-hidden="true"></a>prob_win &lt;-<span class="st"> </span><span class="cf">function</span>(N, <span class="dt">p=</span><span class="fl">0.75</span>){</span>
<span id="cb87-3"><a href="section-1-overview.html#cb87-3" aria-hidden="true"></a>      B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb87-4"><a href="section-1-overview.html#cb87-4" aria-hidden="true"></a>      result &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb87-5"><a href="section-1-overview.html#cb87-5" aria-hidden="true"></a>        b_win &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>), N, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="dv">1</span><span class="op">-</span>p, p))</span>
<span id="cb87-6"><a href="section-1-overview.html#cb87-6" aria-hidden="true"></a>        <span class="kw">sum</span>(b_win)<span class="op">&gt;=</span>(N<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span></span>
<span id="cb87-7"><a href="section-1-overview.html#cb87-7" aria-hidden="true"></a>        })</span>
<span id="cb87-8"><a href="section-1-overview.html#cb87-8" aria-hidden="true"></a>      <span class="kw">mean</span>(result)</span>
<span id="cb87-9"><a href="section-1-overview.html#cb87-9" aria-hidden="true"></a>    }</span>
<span id="cb87-10"><a href="section-1-overview.html#cb87-10" aria-hidden="true"></a></span>
<span id="cb87-11"><a href="section-1-overview.html#cb87-11" aria-hidden="true"></a><span class="co"># Assign the variable &#39;N&#39; as the vector of series lengths. Use only odd numbers ranging from 1 to 25 games.</span></span>
<span id="cb87-12"><a href="section-1-overview.html#cb87-12" aria-hidden="true"></a>N &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">25</span>, <span class="dv">2</span>)</span>
<span id="cb87-13"><a href="section-1-overview.html#cb87-13" aria-hidden="true"></a></span>
<span id="cb87-14"><a href="section-1-overview.html#cb87-14" aria-hidden="true"></a><span class="co"># Apply the &#39;prob_win&#39; function across the vector of series lengths to determine the probability that team B will win. Call this object `Pr`.</span></span>
<span id="cb87-15"><a href="section-1-overview.html#cb87-15" aria-hidden="true"></a>Pr &lt;-<span class="st"> </span><span class="kw">sapply</span>(N, prob_win)</span>
<span id="cb87-16"><a href="section-1-overview.html#cb87-16" aria-hidden="true"></a></span>
<span id="cb87-17"><a href="section-1-overview.html#cb87-17" aria-hidden="true"></a><span class="co"># Plot the number of games in the series &#39;N&#39; on the x-axis and &#39;Pr&#39; on the y-axis.</span></span>
<span id="cb87-18"><a href="section-1-overview.html#cb87-18" aria-hidden="true"></a><span class="kw">plot</span>(N,Pr)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
</div>
<div id="assessment---olympic-running" class="section level2" number="2.16">
<h2><span class="header-section-number">2.16</span> Assessment - Olympic Running</h2>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="section-1-overview.html#cb88-1" aria-hidden="true"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(tidyverse)) <span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb88-2"><a href="section-1-overview.html#cb88-2" aria-hidden="true"></a></span>
<span id="cb88-3"><a href="section-1-overview.html#cb88-3" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb88-4"><a href="section-1-overview.html#cb88-4" aria-hidden="true"></a><span class="kw">options</span>(<span class="dt">digits =</span> <span class="dv">3</span>)    <span class="co"># report 3 significant digits</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>In the 200m dash finals in the Olympics, 8 runners compete for 3 medals (order matters). In the 2012 Olympics, 3 of the 8 runners were from Jamaica and the other 5 were from different countries. The three medals were all won by Jamaica (Usain Bolt, Yohan Blake, and Warren Weir).</li>
</ol>
<p>Use the information above to help you answer the following four questions.</p>
<p>1a. How many different ways can the 3 medals be distributed across 8 runners?</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="section-1-overview.html#cb89-1" aria-hidden="true"></a>medals &lt;-<span class="st"> </span><span class="kw">permutations</span>(<span class="dv">8</span>,<span class="dv">3</span>)</span>
<span id="cb89-2"><a href="section-1-overview.html#cb89-2" aria-hidden="true"></a><span class="kw">nrow</span>(medals)</span></code></pre></div>
<pre><code>## [1] 336</code></pre>
<p>1b. How many different ways can the three medals be distributed among the 3 runners from Jamaica?</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="section-1-overview.html#cb91-1" aria-hidden="true"></a>jamaica &lt;-<span class="st"> </span><span class="kw">permutations</span>(<span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb91-2"><a href="section-1-overview.html#cb91-2" aria-hidden="true"></a><span class="kw">nrow</span>(jamaica)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>1c. What is the probability that all 3 medals are won by Jamaica?</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="section-1-overview.html#cb93-1" aria-hidden="true"></a><span class="kw">nrow</span>(jamaica)<span class="op">/</span><span class="kw">nrow</span>(medals)</span></code></pre></div>
<pre><code>## [1] 0.0179</code></pre>
<p>1d. Run a Monte Carlo simulation on this vector representing the countries of the 8 runners in this race:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="section-1-overview.html#cb95-1" aria-hidden="true"></a>runners &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jamaica&quot;</span>, <span class="st">&quot;Jamaica&quot;</span>, <span class="st">&quot;Jamaica&quot;</span>, <span class="st">&quot;USA&quot;</span>, <span class="st">&quot;Ecuador&quot;</span>, <span class="st">&quot;Netherlands&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;South Africa&quot;</span>)</span></code></pre></div>
<p>For each iteration of the Monte Carlo simulation, within a <code>replicate</code> loop, select 3 runners representing the 3 medalists and check whether they are all from Jamaica. Repeat this simulation 10,000 times. Set the seed to 1 before running the loop.</p>
<p>Calculate the probability that all the runners are from Jamaica.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="section-1-overview.html#cb96-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb96-2"><a href="section-1-overview.html#cb96-2" aria-hidden="true"></a>runners &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jamaica&quot;</span>, <span class="st">&quot;Jamaica&quot;</span>, <span class="st">&quot;Jamaica&quot;</span>, <span class="st">&quot;USA&quot;</span>, <span class="st">&quot;Ecuador&quot;</span>, <span class="st">&quot;Netherlands&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;South Africa&quot;</span>)</span>
<span id="cb96-3"><a href="section-1-overview.html#cb96-3" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">10000</span></span>
<span id="cb96-4"><a href="section-1-overview.html#cb96-4" aria-hidden="true"></a>all_jamaica &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb96-5"><a href="section-1-overview.html#cb96-5" aria-hidden="true"></a>  results &lt;-<span class="st"> </span><span class="kw">sample</span>(runners, <span class="dv">3</span>)</span>
<span id="cb96-6"><a href="section-1-overview.html#cb96-6" aria-hidden="true"></a>  <span class="kw">all</span>(results <span class="op">==</span><span class="st"> &quot;Jamaica&quot;</span>)</span>
<span id="cb96-7"><a href="section-1-overview.html#cb96-7" aria-hidden="true"></a>})</span>
<span id="cb96-8"><a href="section-1-overview.html#cb96-8" aria-hidden="true"></a><span class="kw">mean</span>(all_jamaica)</span></code></pre></div>
<pre><code>## [1] 0.0165</code></pre>
</div>
<div id="assessment---restaurant-management" class="section level2" number="2.17">
<h2><span class="header-section-number">2.17</span> Assessment - Restaurant Management</h2>
<p>2: Use the information below to answer the following five questions.</p>
<p>A restaurant manager wants to advertise that his lunch special offers enough choices to eat different meals every day of the year. He doesn’t think his current special actually allows that number of choices, but wants to change his special if needed to allow at least 365 choices.</p>
<p>A meal at the restaurant includes 1 entree, 2 sides, and 1 drink. He currently offers a choice of 1 entree from a list of 6 options, a choice of 2 different sides from a list of 6 options, and a choice of 1 drink from a list of 2 options.</p>
<p>2a. How many meal combinations are possible with the current menu?</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="section-1-overview.html#cb98-1" aria-hidden="true"></a><span class="dv">6</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(<span class="kw">combinations</span>(<span class="dv">6</span>,<span class="dv">2</span>)) <span class="op">*</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 180</code></pre>
<p>2b. The manager has one additional drink he could add to the special.</p>
<p>How many combinations are possible if he expands his original special to 3 drink options?</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="section-1-overview.html#cb100-1" aria-hidden="true"></a><span class="dv">6</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(<span class="kw">combinations</span>(<span class="dv">6</span>,<span class="dv">2</span>)) <span class="op">*</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 270</code></pre>
<p>2c. The manager decides to add the third drink but needs to expand the number of options. The manager would prefer not to change his menu further and wants to know if he can meet his goal by letting customers choose more sides.</p>
<p>How many meal combinations are there if customers can choose from 6 entrees, 3 drinks, and select 3 sides from the current 6 options?</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="section-1-overview.html#cb102-1" aria-hidden="true"></a><span class="dv">6</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(<span class="kw">combinations</span>(<span class="dv">6</span>,<span class="dv">3</span>)) <span class="op">*</span><span class="st"> </span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 360</code></pre>
<p>2d. The manager is concerned that customers may not want 3 sides with their meal. He is willing to increase the number of entree choices instead, but if he adds too many expensive options it could eat into profits. He wants to know how many entree choices he would have to offer in order to meet his goal.</p>
<ul>
<li>Write a function that takes a number of entree choices and returns the number of meal combinations possible given that number of entree options, 3 drink choices, and a selection of 2 sides from 6 options.</li>
<li>Use <code>sapply</code> to apply the function to entree option counts ranging from 1 to 12.</li>
</ul>
<p>What is the minimum number of entree options required in order to generate more than 365 combinations?</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="section-1-overview.html#cb104-1" aria-hidden="true"></a>entree_choices &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb104-2"><a href="section-1-overview.html#cb104-2" aria-hidden="true"></a>  x <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(<span class="kw">combinations</span>(<span class="dv">6</span>,<span class="dv">2</span>)) <span class="op">*</span><span class="st"> </span><span class="dv">3</span></span>
<span id="cb104-3"><a href="section-1-overview.html#cb104-3" aria-hidden="true"></a>}</span>
<span id="cb104-4"><a href="section-1-overview.html#cb104-4" aria-hidden="true"></a></span>
<span id="cb104-5"><a href="section-1-overview.html#cb104-5" aria-hidden="true"></a>combos &lt;-<span class="st"> </span><span class="kw">sapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, entree_choices)</span>
<span id="cb104-6"><a href="section-1-overview.html#cb104-6" aria-hidden="true"></a></span>
<span id="cb104-7"><a href="section-1-overview.html#cb104-7" aria-hidden="true"></a><span class="kw">data.frame</span>(<span class="dt">entrees =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">combos =</span> combos) <span class="op">%&gt;%</span></span>
<span id="cb104-8"><a href="section-1-overview.html#cb104-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(combos <span class="op">&gt;</span><span class="st"> </span><span class="dv">365</span>) <span class="op">%&gt;%</span></span>
<span id="cb104-9"><a href="section-1-overview.html#cb104-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">min</span>(.<span class="op">$</span>entrees)</span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>2e. The manager isn’t sure he can afford to put that many entree choices on the lunch menu and thinks it would be cheaper for him to expand the number of sides. He wants to know how many sides he would have to offer to meet his goal of at least 365 combinations.</p>
<ul>
<li>Write a function that takes a number of side choices and returns the number of meal combinations possible given 6 entree choices, 3 drink choices, and a selection of 2 sides from the specified number of side choices.</li>
<li>Use <code>sapply</code> to apply the function to side counts ranging from 2 to 12.</li>
</ul>
<p>What is the minimum number of side options required in order to generate more than 365 combinations?</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="section-1-overview.html#cb106-1" aria-hidden="true"></a>side_choices &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb106-2"><a href="section-1-overview.html#cb106-2" aria-hidden="true"></a>  <span class="dv">6</span> <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(<span class="kw">combinations</span>(x, <span class="dv">2</span>)) <span class="op">*</span><span class="st"> </span><span class="dv">3</span></span>
<span id="cb106-3"><a href="section-1-overview.html#cb106-3" aria-hidden="true"></a>}</span>
<span id="cb106-4"><a href="section-1-overview.html#cb106-4" aria-hidden="true"></a></span>
<span id="cb106-5"><a href="section-1-overview.html#cb106-5" aria-hidden="true"></a>combos &lt;-<span class="st"> </span><span class="kw">sapply</span>(<span class="dv">2</span><span class="op">:</span><span class="dv">12</span>, side_choices)</span>
<span id="cb106-6"><a href="section-1-overview.html#cb106-6" aria-hidden="true"></a></span>
<span id="cb106-7"><a href="section-1-overview.html#cb106-7" aria-hidden="true"></a><span class="kw">data.frame</span>(<span class="dt">sides =</span> <span class="dv">2</span><span class="op">:</span><span class="dv">12</span>, <span class="dt">combos =</span> combos) <span class="op">%&gt;%</span></span>
<span id="cb106-8"><a href="section-1-overview.html#cb106-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(combos <span class="op">&gt;</span><span class="st"> </span><span class="dv">365</span>) <span class="op">%&gt;%</span></span>
<span id="cb106-9"><a href="section-1-overview.html#cb106-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">min</span>(.<span class="op">$</span>sides)</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
</div>
<div id="assessment---esophageal-cancer-and-alcoholtobacco-use" class="section level2" number="2.18">
<h2><span class="header-section-number">2.18</span> Assessment - Esophageal cancer and alcohol/tobacco use</h2>
<p>3., 4., 5. and 6. Case-control studies help determine whether certain exposures are associated with outcomes such as developing cancer. The built-in dataset <strong>esoph</strong> contains data from a case-control study in France comparing people with esophageal cancer (cases, counted in <strong>ncases</strong>) to people without esophageal cancer (controls, counted in <strong>ncontrols</strong>) that are carefully matched on a variety of demographic and medical characteristics. The study compares alcohol intake in grams per day (<strong>alcgp</strong>) and tobacco intake in grams per day (<strong>tobgp</strong>) across cases and controls grouped by age range (<strong>agegp</strong>).</p>
<p>The dataset is available in base R and can be called with the variable name <strong>esoph</strong>:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="section-1-overview.html#cb108-1" aria-hidden="true"></a><span class="kw">head</span>(esoph)</span></code></pre></div>
<pre><code>##   agegp     alcgp    tobgp ncases ncontrols
## 1 25-34 0-39g/day 0-9g/day      0        40
## 2 25-34 0-39g/day    10-19      0        10
## 3 25-34 0-39g/day    20-29      0         6
## 4 25-34 0-39g/day      30+      0         5
## 5 25-34     40-79 0-9g/day      0        27
## 6 25-34     40-79    10-19      0         7</code></pre>
<p>You will be using this dataset to answer the following four multi-part questions (Questions 3-6).</p>
<p>You may wish to use the tidyverse package.</p>
<p>The following three parts have you explore some basic characteristics of the dataset.</p>
<p>Each row contains one group of the experiment. Each group has a different combination of age, alcohol consumption, and tobacco consumption. The number of cancer cases and number of controls (individuals without cancer) are reported for each group.</p>
<p>3a. How many groups are in the study?</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="section-1-overview.html#cb110-1" aria-hidden="true"></a><span class="kw">nrow</span>(esoph)</span></code></pre></div>
<pre><code>## [1] 88</code></pre>
<p>3b. How many cases are there?</p>
<p>Save this value as <code>all_cases</code> for later problems.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="section-1-overview.html#cb112-1" aria-hidden="true"></a>all_cases &lt;-<span class="st"> </span><span class="kw">sum</span>(esoph<span class="op">$</span>ncases)</span>
<span id="cb112-2"><a href="section-1-overview.html#cb112-2" aria-hidden="true"></a>all_cases</span></code></pre></div>
<pre><code>## [1] 200</code></pre>
<p>3c. How many controls are there?</p>
<p>Save this value as <code>all_controls</code> for later problems. Remember from the instructions that controls are individuals without cancer.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="section-1-overview.html#cb114-1" aria-hidden="true"></a>all_controls &lt;-<span class="st"> </span><span class="kw">sum</span>(esoph<span class="op">$</span>ncontrols)</span>
<span id="cb114-2"><a href="section-1-overview.html#cb114-2" aria-hidden="true"></a>all_controls</span></code></pre></div>
<pre><code>## [1] 975</code></pre>
<p>4a. What is the probability that a subject in the highest alcohol consumption group is a cancer case?</p>
<p>Remember that the total number of individuals in the study includes people with cancer (cases) and people without cancer (controls), so you must add both values together to get the denominator for your probability.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="section-1-overview.html#cb116-1" aria-hidden="true"></a>esoph <span class="op">%&gt;%</span></span>
<span id="cb116-2"><a href="section-1-overview.html#cb116-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(alcgp <span class="op">==</span><span class="st"> &quot;120+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb116-3"><a href="section-1-overview.html#cb116-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ncases =</span> <span class="kw">sum</span>(ncases), <span class="dt">ncontrols =</span> <span class="kw">sum</span>(ncontrols)) <span class="op">%&gt;%</span></span>
<span id="cb116-4"><a href="section-1-overview.html#cb116-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">p_case =</span> ncases <span class="op">/</span><span class="st"> </span>(ncases <span class="op">+</span><span class="st"> </span>ncontrols)) <span class="op">%&gt;%</span></span>
<span id="cb116-5"><a href="section-1-overview.html#cb116-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(p_case)</span></code></pre></div>
<pre><code>## [1] 0.402</code></pre>
<p>4b. What is the probability that a subject in the lowest alcohol consumption group is a cancer case?</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="section-1-overview.html#cb118-1" aria-hidden="true"></a>esoph <span class="op">%&gt;%</span></span>
<span id="cb118-2"><a href="section-1-overview.html#cb118-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(alcgp <span class="op">==</span><span class="st"> &quot;0-39g/day&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb118-3"><a href="section-1-overview.html#cb118-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">ncases =</span> <span class="kw">sum</span>(ncases), <span class="dt">ncontrols =</span> <span class="kw">sum</span>(ncontrols)) <span class="op">%&gt;%</span></span>
<span id="cb118-4"><a href="section-1-overview.html#cb118-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">p_case =</span> ncases <span class="op">/</span><span class="st"> </span>(ncases <span class="op">+</span><span class="st"> </span>ncontrols)) <span class="op">%&gt;%</span></span>
<span id="cb118-5"><a href="section-1-overview.html#cb118-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(p_case)</span></code></pre></div>
<pre><code>## [1] 0.0653</code></pre>
<p>4c. Given that a person is a case, what is the probability that they smoke 10g or more a day?</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="section-1-overview.html#cb120-1" aria-hidden="true"></a>tob_cases &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb120-2"><a href="section-1-overview.html#cb120-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(tobgp <span class="op">!=</span><span class="st"> &quot;0-9g/day&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb120-3"><a href="section-1-overview.html#cb120-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncases) <span class="op">%&gt;%</span></span>
<span id="cb120-4"><a href="section-1-overview.html#cb120-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb120-5"><a href="section-1-overview.html#cb120-5" aria-hidden="true"></a></span>
<span id="cb120-6"><a href="section-1-overview.html#cb120-6" aria-hidden="true"></a>tob_cases<span class="op">/</span>all_cases</span></code></pre></div>
<pre><code>## [1] 0.61</code></pre>
<p>4d. Given that a person is a control, what is the probability that they smoke 10g or more a day?</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="section-1-overview.html#cb122-1" aria-hidden="true"></a>tob_controls &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb122-2"><a href="section-1-overview.html#cb122-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(tobgp <span class="op">!=</span><span class="st"> &quot;0-9g/day&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb122-3"><a href="section-1-overview.html#cb122-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncontrols) <span class="op">%&gt;%</span></span>
<span id="cb122-4"><a href="section-1-overview.html#cb122-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb122-5"><a href="section-1-overview.html#cb122-5" aria-hidden="true"></a></span>
<span id="cb122-6"><a href="section-1-overview.html#cb122-6" aria-hidden="true"></a>tob_controls<span class="op">/</span>all_controls</span></code></pre></div>
<pre><code>## [1] 0.462</code></pre>
<p>5a. For cases, what is the probability of being in the highest alcohol group?</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="section-1-overview.html#cb124-1" aria-hidden="true"></a>high_alc_cases &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb124-2"><a href="section-1-overview.html#cb124-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(alcgp <span class="op">==</span><span class="st"> &quot;120+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb124-3"><a href="section-1-overview.html#cb124-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncases) <span class="op">%&gt;%</span></span>
<span id="cb124-4"><a href="section-1-overview.html#cb124-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb124-5"><a href="section-1-overview.html#cb124-5" aria-hidden="true"></a></span>
<span id="cb124-6"><a href="section-1-overview.html#cb124-6" aria-hidden="true"></a>p_case_high_alc &lt;-<span class="st"> </span>high_alc_cases<span class="op">/</span>all_cases</span>
<span id="cb124-7"><a href="section-1-overview.html#cb124-7" aria-hidden="true"></a>p_case_high_alc</span></code></pre></div>
<pre><code>## [1] 0.225</code></pre>
<p>5b. For cases, what is the probability of being in the highest tobacco group?</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="section-1-overview.html#cb126-1" aria-hidden="true"></a>high_tob_cases &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb126-2"><a href="section-1-overview.html#cb126-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(tobgp <span class="op">==</span><span class="st"> &quot;30+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb126-3"><a href="section-1-overview.html#cb126-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncases) <span class="op">%&gt;%</span></span>
<span id="cb126-4"><a href="section-1-overview.html#cb126-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb126-5"><a href="section-1-overview.html#cb126-5" aria-hidden="true"></a></span>
<span id="cb126-6"><a href="section-1-overview.html#cb126-6" aria-hidden="true"></a>p_case_high_tob &lt;-<span class="st"> </span>high_tob_cases<span class="op">/</span>all_cases</span>
<span id="cb126-7"><a href="section-1-overview.html#cb126-7" aria-hidden="true"></a>p_case_high_tob</span></code></pre></div>
<pre><code>## [1] 0.155</code></pre>
<p>5c. For cases, what is the probability of being in the highest alcohol group <strong>and</strong> the highest tobacco group?</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="section-1-overview.html#cb128-1" aria-hidden="true"></a>high_alc_tob_cases &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb128-2"><a href="section-1-overview.html#cb128-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(alcgp <span class="op">==</span><span class="st"> &quot;120+&quot;</span> <span class="op">&amp;</span><span class="st"> </span>tobgp <span class="op">==</span><span class="st"> &quot;30+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb128-3"><a href="section-1-overview.html#cb128-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncases) <span class="op">%&gt;%</span></span>
<span id="cb128-4"><a href="section-1-overview.html#cb128-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb128-5"><a href="section-1-overview.html#cb128-5" aria-hidden="true"></a></span>
<span id="cb128-6"><a href="section-1-overview.html#cb128-6" aria-hidden="true"></a>p_case_high_alc_tob &lt;-<span class="st"> </span>high_alc_tob_cases<span class="op">/</span>all_cases</span>
<span id="cb128-7"><a href="section-1-overview.html#cb128-7" aria-hidden="true"></a>p_case_high_alc_tob</span></code></pre></div>
<pre><code>## [1] 0.05</code></pre>
<p>5d. For cases, what is the probability of being in the highest alcohol group <strong>or</strong> the highest tobacco group?</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="section-1-overview.html#cb130-1" aria-hidden="true"></a>p_case_either_highest &lt;-<span class="st"> </span>p_case_high_alc <span class="op">+</span><span class="st"> </span>p_case_high_tob <span class="op">-</span><span class="st"> </span>p_case_high_alc_tob</span>
<span id="cb130-2"><a href="section-1-overview.html#cb130-2" aria-hidden="true"></a>p_case_either_highest</span></code></pre></div>
<pre><code>## [1] 0.33</code></pre>
<p>6a. For controls, what is the probability of being in the highest alcohol group?</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="section-1-overview.html#cb132-1" aria-hidden="true"></a>high_alc_controls &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb132-2"><a href="section-1-overview.html#cb132-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(alcgp <span class="op">==</span><span class="st"> &quot;120+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb132-3"><a href="section-1-overview.html#cb132-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncontrols) <span class="op">%&gt;%</span></span>
<span id="cb132-4"><a href="section-1-overview.html#cb132-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb132-5"><a href="section-1-overview.html#cb132-5" aria-hidden="true"></a></span>
<span id="cb132-6"><a href="section-1-overview.html#cb132-6" aria-hidden="true"></a>p_control_high_alc &lt;-<span class="st"> </span>high_alc_controls<span class="op">/</span>all_controls</span>
<span id="cb132-7"><a href="section-1-overview.html#cb132-7" aria-hidden="true"></a>p_control_high_alc</span></code></pre></div>
<pre><code>## [1] 0.0687</code></pre>
<p>6b. How many times more likely are cases than controls to be in the highest alcohol group?</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="section-1-overview.html#cb134-1" aria-hidden="true"></a>p_case_high_alc<span class="op">/</span>p_control_high_alc</span></code></pre></div>
<pre><code>## [1] 3.27</code></pre>
<p>6c. For controls, what is the probability of being in the highest tobacco group?</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="section-1-overview.html#cb136-1" aria-hidden="true"></a>high_tob_controls &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb136-2"><a href="section-1-overview.html#cb136-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(tobgp <span class="op">==</span><span class="st"> &quot;30+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb136-3"><a href="section-1-overview.html#cb136-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncontrols) <span class="op">%&gt;%</span></span>
<span id="cb136-4"><a href="section-1-overview.html#cb136-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb136-5"><a href="section-1-overview.html#cb136-5" aria-hidden="true"></a></span>
<span id="cb136-6"><a href="section-1-overview.html#cb136-6" aria-hidden="true"></a>p_control_high_tob &lt;-<span class="st"> </span>high_tob_controls<span class="op">/</span>all_controls</span>
<span id="cb136-7"><a href="section-1-overview.html#cb136-7" aria-hidden="true"></a>p_control_high_tob</span></code></pre></div>
<pre><code>## [1] 0.0841</code></pre>
<p>6d. For controls, what is the probability of being in the highest alcohol group <strong>and</strong> the highest tobacco group?</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="section-1-overview.html#cb138-1" aria-hidden="true"></a>high_alc_tob_controls &lt;-<span class="st"> </span>esoph <span class="op">%&gt;%</span></span>
<span id="cb138-2"><a href="section-1-overview.html#cb138-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(alcgp <span class="op">==</span><span class="st"> &quot;120+&quot;</span> <span class="op">&amp;</span><span class="st"> </span>tobgp <span class="op">==</span><span class="st"> &quot;30+&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb138-3"><a href="section-1-overview.html#cb138-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">pull</span>(ncontrols) <span class="op">%&gt;%</span></span>
<span id="cb138-4"><a href="section-1-overview.html#cb138-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">sum</span>()</span>
<span id="cb138-5"><a href="section-1-overview.html#cb138-5" aria-hidden="true"></a></span>
<span id="cb138-6"><a href="section-1-overview.html#cb138-6" aria-hidden="true"></a>p_control_high_alc_tob &lt;-<span class="st"> </span>high_alc_tob_controls<span class="op">/</span>all_controls</span>
<span id="cb138-7"><a href="section-1-overview.html#cb138-7" aria-hidden="true"></a>p_control_high_alc_tob</span></code></pre></div>
<pre><code>## [1] 0.0133</code></pre>
<p>6e. For controls, what is the probability of being in the highest alcohol group <strong>or</strong> the highest tobacco group?</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="section-1-overview.html#cb140-1" aria-hidden="true"></a>p_control_either_highest &lt;-<span class="st"> </span>p_control_high_alc <span class="op">+</span><span class="st"> </span>p_control_high_tob <span class="op">-</span><span class="st"> </span>p_control_high_alc_tob</span>
<span id="cb140-2"><a href="section-1-overview.html#cb140-2" aria-hidden="true"></a>p_control_either_highest</span></code></pre></div>
<pre><code>## [1] 0.139</code></pre>
<p>6f. How many times more likely are cases than controls to be in the highest alcohol group or the highest tobacco group?</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="section-1-overview.html#cb142-1" aria-hidden="true"></a>p_case_either_highest<span class="op">/</span>p_control_either_highest</span></code></pre></div>
<pre><code>## [1] 2.37</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="learning-objectives.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section-2-overview.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
