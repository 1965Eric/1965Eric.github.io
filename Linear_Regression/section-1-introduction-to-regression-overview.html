<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Section 1 - Introduction to Regression Overview | Data Science Linear Regression</title>
  <meta name="description" content="2 Section 1 - Introduction to Regression Overview | Data Science Linear Regression" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Section 1 - Introduction to Regression Overview | Data Science Linear Regression" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Section 1 - Introduction to Regression Overview | Data Science Linear Regression" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="learning-objectives.html"/>
<link rel="next" href="section-2-linear-models-overview.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="learning-objectives.html"><a href="learning-objectives.html"><i class="fa fa-check"></i><b>1</b> Learning Objectives</a>
<ul>
<li class="chapter" data-level="1.1" data-path="learning-objectives.html"><a href="learning-objectives.html#course-overview"><i class="fa fa-check"></i><b>1.1</b> Course Overview</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="learning-objectives.html"><a href="learning-objectives.html#introduction-to-linear-regression"><i class="fa fa-check"></i><b>1.1.1</b> Introduction to Linear Regression</a></li>
<li class="chapter" data-level="1.1.2" data-path="learning-objectives.html"><a href="learning-objectives.html#linear-models"><i class="fa fa-check"></i><b>1.1.2</b> Linear Models</a></li>
<li class="chapter" data-level="1.1.3" data-path="learning-objectives.html"><a href="learning-objectives.html#confounding"><i class="fa fa-check"></i><b>1.1.3</b> Confounding</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html"><i class="fa fa-check"></i><b>2</b> Section 1 - Introduction to Regression Overview</a>
<ul>
<li class="chapter" data-level="2.1" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#motivating-example-moneyball"><i class="fa fa-check"></i><b>2.1</b> Motivating Example: Moneyball</a></li>
<li class="chapter" data-level="2.2" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#baseball-basics"><i class="fa fa-check"></i><b>2.2</b> Baseball basics</a></li>
<li class="chapter" data-level="2.3" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#bases-on-balls-or-stolen-bases"><i class="fa fa-check"></i><b>2.3</b> Bases on Balls or Stolen Bases?</a></li>
<li class="chapter" data-level="2.4" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#assessment---baseball-as-a-motivating-example"><i class="fa fa-check"></i><b>2.4</b> Assessment - Baseball as a Motivating Example</a></li>
<li class="chapter" data-level="2.5" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#correlation"><i class="fa fa-check"></i><b>2.5</b> Correlation</a></li>
<li class="chapter" data-level="2.6" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#correlation-coefficient"><i class="fa fa-check"></i><b>2.6</b> Correlation Coefficient</a></li>
<li class="chapter" data-level="2.7" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#sample-correlation-is-a-random-variable"><i class="fa fa-check"></i><b>2.7</b> Sample Correlation is a Random Variable</a></li>
<li class="chapter" data-level="2.8" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#assessment---correlation"><i class="fa fa-check"></i><b>2.8</b> Assessment - Correlation</a></li>
<li class="chapter" data-level="2.9" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#anscombes-quartetstratification"><i class="fa fa-check"></i><b>2.9</b> Anscombe’s Quartet/Stratification</a></li>
<li class="chapter" data-level="2.10" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#bivariate-normal-distribution"><i class="fa fa-check"></i><b>2.10</b> Bivariate Normal Distribution</a></li>
<li class="chapter" data-level="2.11" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#variance-explained"><i class="fa fa-check"></i><b>2.11</b> Variance Explained</a></li>
<li class="chapter" data-level="2.12" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#there-are-two-regression-lines"><i class="fa fa-check"></i><b>2.12</b> There are Two Regression Lines</a></li>
<li class="chapter" data-level="2.13" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#assessment---stratification-and-variance-explained-part-1"><i class="fa fa-check"></i><b>2.13</b> Assessment - Stratification and Variance Explained, Part 1</a></li>
<li class="chapter" data-level="2.14" data-path="section-1-introduction-to-regression-overview.html"><a href="section-1-introduction-to-regression-overview.html#assessment---stratification-and-variance-explained-part-2"><i class="fa fa-check"></i><b>2.14</b> Assessment - Stratification and Variance Explained, Part 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html"><i class="fa fa-check"></i><b>3</b> Section 2 - Linear Models Overview</a>
<ul>
<li class="chapter" data-level="3.1" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#confounding-are-bbs-more-predictive"><i class="fa fa-check"></i><b>3.1</b> Confounding: Are BBs More Predictive?</a></li>
<li class="chapter" data-level="3.2" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#stratification-and-multivariate-regression"><i class="fa fa-check"></i><b>3.2</b> Stratification and Multivariate Regression</a></li>
<li class="chapter" data-level="3.3" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#linear-models-1"><i class="fa fa-check"></i><b>3.3</b> Linear Models</a></li>
<li class="chapter" data-level="3.4" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment-introduction-to-linear-models"><i class="fa fa-check"></i><b>3.4</b> Assessment: Introduction to Linear Models</a></li>
<li class="chapter" data-level="3.5" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#least-squares-estimates-lse"><i class="fa fa-check"></i><b>3.5</b> Least Squares Estimates (LSE)</a></li>
<li class="chapter" data-level="3.6" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#the-lm-function"><i class="fa fa-check"></i><b>3.6</b> The lm Function</a></li>
<li class="chapter" data-level="3.7" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#lse-are-random-variables"><i class="fa fa-check"></i><b>3.7</b> LSE are Random Variables</a></li>
<li class="chapter" data-level="3.8" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#advanced-note-on-lse"><i class="fa fa-check"></i><b>3.8</b> Advanced Note on LSE</a></li>
<li class="chapter" data-level="3.9" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#predicted-variables-are-random-variables"><i class="fa fa-check"></i><b>3.9</b> Predicted Variables are Random Variables</a></li>
<li class="chapter" data-level="3.10" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---least-squares-estimates-lse-part-1"><i class="fa fa-check"></i><b>3.10</b> Assessment - Least Squares Estimates (LSE), part 1</a></li>
<li class="chapter" data-level="3.11" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---least-squares-estimates-part-2"><i class="fa fa-check"></i><b>3.11</b> Assessment - Least Squares Estimates, part 2</a></li>
<li class="chapter" data-level="3.12" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#advanced-dplyr-tibbles"><i class="fa fa-check"></i><b>3.12</b> Advanced dplyr: Tibbles</a></li>
<li class="chapter" data-level="3.13" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#tibbles-differences-from-data-frames"><i class="fa fa-check"></i><b>3.13</b> Tibbles: Differences from Data Frames</a></li>
<li class="chapter" data-level="3.14" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#do"><i class="fa fa-check"></i><b>3.14</b> do</a></li>
<li class="chapter" data-level="3.15" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#broom"><i class="fa fa-check"></i><b>3.15</b> broom</a></li>
<li class="chapter" data-level="3.16" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---tibbles-do-and-broom-part-1"><i class="fa fa-check"></i><b>3.16</b> Assessment - Tibbles, do, and broom, part 1</a></li>
<li class="chapter" data-level="3.17" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---tibbles-do-and-broom-part-2"><i class="fa fa-check"></i><b>3.17</b> Assessment - Tibbles, do, and broom, part 2</a></li>
<li class="chapter" data-level="3.18" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#building-a-better-offensive-metric-for-baseball"><i class="fa fa-check"></i><b>3.18</b> Building a Better Offensive Metric for Baseball</a></li>
<li class="chapter" data-level="3.19" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#building-a-better-offensive-metric-for-baseball-linear-programming"><i class="fa fa-check"></i><b>3.19</b> Building a Better Offensive Metric for Baseball: Linear Programming</a></li>
<li class="chapter" data-level="3.20" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#on-base-plus-slugging-ops"><i class="fa fa-check"></i><b>3.20</b> On Base Plus Slugging (OPS)</a></li>
<li class="chapter" data-level="3.21" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#regression-fallacy"><i class="fa fa-check"></i><b>3.21</b> Regression Fallacy</a></li>
<li class="chapter" data-level="3.22" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#measurement-error-models"><i class="fa fa-check"></i><b>3.22</b> Measurement Error Models</a></li>
<li class="chapter" data-level="3.23" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---regression-and-baseball-part-1"><i class="fa fa-check"></i><b>3.23</b> Assessment - Regression and Baseball, part 1</a></li>
<li class="chapter" data-level="3.24" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---regression-and-baseball-part-2"><i class="fa fa-check"></i><b>3.24</b> Assessment - Regression and Baseball, part 2</a></li>
<li class="chapter" data-level="3.25" data-path="section-2-linear-models-overview.html"><a href="section-2-linear-models-overview.html#assessment---linear-models"><i class="fa fa-check"></i><b>3.25</b> Assessment - Linear Models</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html"><i class="fa fa-check"></i><b>4</b> Section 3 - Confounding Overview</a>
<ul>
<li class="chapter" data-level="4.1" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#correlation-is-not-causation-spurious-correlation"><i class="fa fa-check"></i><b>4.1</b> Correlation is Not Causation: Spurious Correlation</a></li>
<li class="chapter" data-level="4.2" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#correlation-is-not-causation-outliers"><i class="fa fa-check"></i><b>4.2</b> Correlation is Not Causation: Outliers</a></li>
<li class="chapter" data-level="4.3" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#correlation-is-not-causation-reversing-cause-and-effect"><i class="fa fa-check"></i><b>4.3</b> Correlation is Not Causation: Reversing Cause and Effect</a></li>
<li class="chapter" data-level="4.4" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#correlation-is-not-causation-confounders"><i class="fa fa-check"></i><b>4.4</b> Correlation is Not Causation: Confounders</a></li>
<li class="chapter" data-level="4.5" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#simpsons-paradox"><i class="fa fa-check"></i><b>4.5</b> Simpson’s Paradox</a></li>
<li class="chapter" data-level="4.6" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#assessment---correlation-is-not-causation"><i class="fa fa-check"></i><b>4.6</b> Assessment - Correlation is Not Causation</a></li>
<li class="chapter" data-level="4.7" data-path="section-3-confounding-overview.html"><a href="section-3-confounding-overview.html#assessment---confounding"><i class="fa fa-check"></i><b>4.7</b> Assessment - Confounding</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science Linear Regression</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-1---introduction-to-regression-overview" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Section 1 - Introduction to Regression Overview</h1>
<p>In the <strong>Introduction to Regression</strong> section, you will learn the basics of linear regression.</p>
<p>After completing this section, you will be able to:</p>
<ul>
<li>Understand how Galton developed <strong>linear regression</strong>.</li>
<li>Calculate and interpret the <strong>sample correlation</strong>.</li>
<li><strong>Stratify</strong> a dataset when appropriate.</li>
<li>Understand what a <strong>bivariate normal distribution</strong> is.</li>
<li>Explain what the term <strong>variance explained</strong> means.</li>
<li>Interpret the two <strong>regression lines</strong>.</li>
</ul>
<p>This section has three parts: <strong>Baseball as a Motivating Example</strong>, <strong>Correlation</strong>, and <strong>Stratification and Variance Explained</strong>.</p>
<div id="motivating-example-moneyball" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Motivating Example: Moneyball</h2>
<p>The corresponding section of the textbook is the <a href="https://rafalab.github.io/dsbook/linear-models.html#case-study-moneyball" target="_blank">case study on Moneyball</a></p>
<p><strong>Key points</strong></p>
<p>Bill James was the originator of the <strong>sabermetrics</strong>, the approach of using data to predict what outcomes best predicted if a team would win.</p>
</div>
<div id="baseball-basics" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Baseball basics</h2>
<p>The corresponding section of the textbook is the <a href="https://rafalab.github.io/dsbook/linear-models.html#baseball-basics" target="_blank">section on baseball basics</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>The goal of a baseball game is to score more runs (points) than the other team.</li>
<li>Each team has 9 batters who have an opportunity to hit a ball with a bat in a predetermined order.</li>
<li>Each time a batter has an opportunity to bat, we call it a plate appearance (PA).</li>
<li>The PA ends with a binary outcome: the batter either makes an out (failure) and returns to the bench or the batter doesn’t (success) and can run around the bases, and potentially score a run (reach all 4 bases).</li>
<li>We are simplifying a bit, but there are five ways a batter can succeed (not make an out):</li>
</ul>
<ol style="list-style-type: decimal">
<li>Bases on balls (BB): the pitcher fails to throw the ball through a predefined area considered to be hittable (the strike zone), so the batter is permitted to go to first base.</li>
<li>Single: the batter hits the ball and gets to first base.</li>
<li>Double (2B): the batter hits the ball and gets to second base.</li>
<li>Triple (3B): the batter hits the ball and gets to third base.</li>
<li>Home Run (HR): the batter hits the ball and goes all the way home and scores a run.</li>
</ol>
<ul>
<li>Historically, the batting average has been considered the most important offensive statistic. To define this average, we define a hit (H) and an at bat (AB). Singles, doubles, triples and home runs are hits. The fifth way to be successful, a walk (BB), is not a hit. An AB is the number of times you either get a hit or make an out; BBs are excluded. The batting average is simply H/AB and is considered the main measure of a success rate.</li>
</ul>
</div>
<div id="bases-on-balls-or-stolen-bases" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Bases on Balls or Stolen Bases?</h2>
<p>The corresponding section of the textbook is the <a href="https://rafalab.github.io/dsbook/linear-models.html#base-on-balls-or-stolen-bases" target="_blank">base on balls or stolen bases textbook section</a></p>
<p><strong>Key points</strong></p>
<p>The visualization of choice when exploring the relationship between two variables like home runs and runs is a scatterplot.</p>
<p><em>Code: Scatterplot of the relationship between HRs and runs</em></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="section-1-introduction-to-regression-overview.html#cb1-1" aria-hidden="true"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(Lahman)) <span class="kw">install.packages</span>(<span class="st">&quot;Lahman&quot;</span>)</span></code></pre></div>
<pre><code>## Loading required package: Lahman</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="section-1-introduction-to-regression-overview.html#cb3-1" aria-hidden="true"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(tidyverse)) <span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb3-2"><a href="section-1-introduction-to-regression-overview.html#cb3-2" aria-hidden="true"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(dslabs)) <span class="kw">install.packages</span>(<span class="st">&quot;dslabs&quot;</span>)</span>
<span id="cb3-3"><a href="section-1-introduction-to-regression-overview.html#cb3-3" aria-hidden="true"></a></span>
<span id="cb3-4"><a href="section-1-introduction-to-regression-overview.html#cb3-4" aria-hidden="true"></a><span class="kw">library</span>(Lahman)</span>
<span id="cb3-5"><a href="section-1-introduction-to-regression-overview.html#cb3-5" aria-hidden="true"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb3-6"><a href="section-1-introduction-to-regression-overview.html#cb3-6" aria-hidden="true"></a><span class="kw">library</span>(dslabs)</span>
<span id="cb3-7"><a href="section-1-introduction-to-regression-overview.html#cb3-7" aria-hidden="true"></a><span class="kw">ds_theme_set</span>()</span>
<span id="cb3-8"><a href="section-1-introduction-to-regression-overview.html#cb3-8" aria-hidden="true"></a></span>
<span id="cb3-9"><a href="section-1-introduction-to-regression-overview.html#cb3-9" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>) <span class="op">%&gt;%</span></span>
<span id="cb3-10"><a href="section-1-introduction-to-regression-overview.html#cb3-10" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">HR_per_game =</span> HR <span class="op">/</span><span class="st"> </span>G, <span class="dt">R_per_game =</span> R <span class="op">/</span><span class="st"> </span>G) <span class="op">%&gt;%</span></span>
<span id="cb3-11"><a href="section-1-introduction-to-regression-overview.html#cb3-11" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(HR_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb3-12"><a href="section-1-introduction-to-regression-overview.html#cb3-12" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-1-1.png" width="672" /></p>
<p><em>Code: Scatterplot of the relationship between stolen bases and runs</em></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="section-1-introduction-to-regression-overview.html#cb4-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>) <span class="op">%&gt;%</span></span>
<span id="cb4-2"><a href="section-1-introduction-to-regression-overview.html#cb4-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">SB_per_game =</span> SB <span class="op">/</span><span class="st"> </span>G, <span class="dt">R_per_game =</span> R <span class="op">/</span><span class="st"> </span>G) <span class="op">%&gt;%</span></span>
<span id="cb4-3"><a href="section-1-introduction-to-regression-overview.html#cb4-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(SB_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-4"><a href="section-1-introduction-to-regression-overview.html#cb4-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-2-1.png" width="672" /></p>
<p><em>Code: Scatterplot of the relationship between bases on balls and runs</em></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="section-1-introduction-to-regression-overview.html#cb5-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>) <span class="op">%&gt;%</span></span>
<span id="cb5-2"><a href="section-1-introduction-to-regression-overview.html#cb5-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">BB_per_game =</span> BB <span class="op">/</span><span class="st"> </span>G, <span class="dt">R_per_game =</span> R <span class="op">/</span><span class="st"> </span>G) <span class="op">%&gt;%</span></span>
<span id="cb5-3"><a href="section-1-introduction-to-regression-overview.html#cb5-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(BB_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb5-4"><a href="section-1-introduction-to-regression-overview.html#cb5-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="assessment---baseball-as-a-motivating-example" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Assessment - Baseball as a Motivating Example</h2>
<ol style="list-style-type: decimal">
<li>What is the application of statistics and data science to baseball called?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. Moneyball</li>
<li><input type="checkbox" disabled="" checked="" />
B. Sabermetrics</li>
<li><input type="checkbox" disabled="" />
C. The “Oakland A’s Approach”</li>
<li><input type="checkbox" disabled="" />
D. There is no specific name for this; it’s just data science.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Which of the following outcomes is not included in the batting average?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. A home run</li>
<li><input type="checkbox" disabled="" checked="" />
B. A base on balls</li>
<li><input type="checkbox" disabled="" />
C. An out</li>
<li><input type="checkbox" disabled="" />
D. A single</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>Why do we consider team statistics as well as individual player statistics?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. The success of any individual player also depends on the strength of their team.</li>
<li><input type="checkbox" disabled="" />
B. Team statistics can be easier to calculate.</li>
<li><input type="checkbox" disabled="" />
C. The ultimate goal of sabermetrics is to rank teams, not players.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>You want to know whether teams with more at-bats per game have more runs per game. What R code below correctly makes a scatter plot for this relationship?</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="section-1-introduction-to-regression-overview.html#cb6-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span> ) <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="section-1-introduction-to-regression-overview.html#cb6-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">AB_per_game =</span> AB<span class="op">/</span>G, <span class="dt">R_per_game =</span> R<span class="op">/</span>G) <span class="op">%&gt;%</span></span>
<span id="cb6-3"><a href="section-1-introduction-to-regression-overview.html#cb6-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(AB_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-4"><a href="section-1-introduction-to-regression-overview.html#cb6-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-4-1.png" width="672" /></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="section-1-introduction-to-regression-overview.html#cb7-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span> ) <span class="op">%&gt;%</span></span>
<span id="cb7-2"><a href="section-1-introduction-to-regression-overview.html#cb7-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(AB, R)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb7-3"><a href="section-1-introduction-to-regression-overview.html#cb7-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
B.</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="section-1-introduction-to-regression-overview.html#cb8-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span> ) <span class="op">%&gt;%</span></span>
<span id="cb8-2"><a href="section-1-introduction-to-regression-overview.html#cb8-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">AB_per_game =</span> AB<span class="op">/</span>G, <span class="dt">R_per_game =</span> R<span class="op">/</span>G) <span class="op">%&gt;%</span></span>
<span id="cb8-3"><a href="section-1-introduction-to-regression-overview.html#cb8-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(AB_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb8-4"><a href="section-1-introduction-to-regression-overview.html#cb8-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
C.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="section-1-introduction-to-regression-overview.html#cb9-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span> ) <span class="op">%&gt;%</span></span>
<span id="cb9-2"><a href="section-1-introduction-to-regression-overview.html#cb9-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">AB_per_game =</span> AB<span class="op">/</span>G, <span class="dt">R_per_game =</span> R<span class="op">/</span>G) <span class="op">%&gt;%</span></span>
<span id="cb9-3"><a href="section-1-introduction-to-regression-overview.html#cb9-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(AB_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb9-4"><a href="section-1-introduction-to-regression-overview.html#cb9-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_line</span>()</span></code></pre></div>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
D.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="section-1-introduction-to-regression-overview.html#cb10-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span> ) <span class="op">%&gt;%</span></span>
<span id="cb10-2"><a href="section-1-introduction-to-regression-overview.html#cb10-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">AB_per_game =</span> AB<span class="op">/</span>G, <span class="dt">R_per_game =</span> R<span class="op">/</span>G) <span class="op">%&gt;%</span></span>
<span id="cb10-3"><a href="section-1-introduction-to-regression-overview.html#cb10-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(R_per_game, AB_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb10-4"><a href="section-1-introduction-to-regression-overview.html#cb10-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>()</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>What does the variable “SOA” stand for in the Teams table?</li>
</ol>
<p>Hint: make sure to use the help file (<code>?Teams</code>).</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. sacrifice out</li>
<li><input type="checkbox" disabled="" />
B. slides or attempts</li>
<li><input type="checkbox" disabled="" checked="" />
C. strikeouts by pitchers</li>
<li><input type="checkbox" disabled="" />
D. accumulated singles</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Load the <strong>Lahman</strong> library. Filter the <code>Teams</code> data frame to include years from 1961 to 2001. Make a scatterplot of runs per game versus at bats (<code>AB</code>) per game.</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="section-1-introduction-to-regression-overview.html#cb11-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>) <span class="op">%&gt;%</span></span>
<span id="cb11-2"><a href="section-1-introduction-to-regression-overview.html#cb11-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">AB_per_game =</span> AB <span class="op">/</span><span class="st"> </span>G, <span class="dt">R_per_game =</span> R <span class="op">/</span><span class="st"> </span>G) <span class="op">%&gt;%</span></span>
<span id="cb11-3"><a href="section-1-introduction-to-regression-overview.html#cb11-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(AB_per_game, R_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb11-4"><a href="section-1-introduction-to-regression-overview.html#cb11-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-9-1.png" width="672" /></p>
<p>Which of the following is true?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. There is no clear relationship between runs and at bats per game.</li>
<li><input type="checkbox" disabled="" checked="" />
B. As the number of at bats per game increases, the number of runs per game tends to increase.</li>
<li><input type="checkbox" disabled="" />
C. As the number of at bats per game increases, the number of runs per game tends to decrease.</li>
</ul>
<ol start="7" style="list-style-type: decimal">
<li>Use the filtered <code>Teams</code> data frame from Question 6. Make a scatterplot of win rate (number of wins per game) versus number of fielding errors (<code>E</code>) per game.</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="section-1-introduction-to-regression-overview.html#cb12-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>) <span class="op">%&gt;%</span></span>
<span id="cb12-2"><a href="section-1-introduction-to-regression-overview.html#cb12-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">win_rate =</span> W <span class="op">/</span><span class="st"> </span>G, <span class="dt">E_per_game =</span> E <span class="op">/</span><span class="st"> </span>G) <span class="op">%&gt;%</span></span>
<span id="cb12-3"><a href="section-1-introduction-to-regression-overview.html#cb12-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(win_rate, E_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb12-4"><a href="section-1-introduction-to-regression-overview.html#cb12-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-10-1.png" width="672" /></p>
<p>Which of the following is true?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. There is no relationship between win rate and errors per game.</li>
<li><input type="checkbox" disabled="" />
B. As the number of errors per game increases, the win rate tends to increase.</li>
<li><input type="checkbox" disabled="" checked="" />
C. As the number of errors per game increases, the win rate tends to decrease.</li>
</ul>
<ol start="8" style="list-style-type: decimal">
<li>Use the filtered <code>Teams</code> data frame from Question 6. Make a scatterplot of triples (<code>X3B</code>) per game versus doubles (<code>X2B</code>) per game.</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="section-1-introduction-to-regression-overview.html#cb13-1" aria-hidden="true"></a>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>) <span class="op">%&gt;%</span></span>
<span id="cb13-2"><a href="section-1-introduction-to-regression-overview.html#cb13-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">doubles_per_game =</span> X2B <span class="op">/</span><span class="st"> </span>G, <span class="dt">triples_per_game =</span> X3B <span class="op">/</span><span class="st"> </span>G) <span class="op">%&gt;%</span></span>
<span id="cb13-3"><a href="section-1-introduction-to-regression-overview.html#cb13-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(doubles_per_game, triples_per_game)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb13-4"><a href="section-1-introduction-to-regression-overview.html#cb13-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-11-1.png" width="672" /></p>
<p>Which of the following is true?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. There is no clear relationship between doubles per game and triples per game.</li>
<li><input type="checkbox" disabled="" />
B. As the number of doubles per game increases, the number of triples per game tends to increase.</li>
<li><input type="checkbox" disabled="" />
C. As the number of doubles per game increases, the number of triples per game tends to decrease.</li>
</ul>
</div>
<div id="correlation" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Correlation</h2>
<p>The corresponding textbook section is <a href="https://rafalab.github.io/dsbook/regression.html#case-study-is-height-hereditary" target="_blank">Case Study: is height hereditary?</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>Galton tried to predict sons’ heights based on fathers’ heights.</li>
<li>The mean and standard errors are insufficient for describing an important characteristic of the data: the trend that the taller the father, the taller the son.</li>
<li>The correlation coefficient is an informative summary of how two variables move together that can be used to predict one variable using the other.</li>
</ul>
<p><em>Code</em></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="section-1-introduction-to-regression-overview.html#cb14-1" aria-hidden="true"></a><span class="co"># create the dataset</span></span>
<span id="cb14-2"><a href="section-1-introduction-to-regression-overview.html#cb14-2" aria-hidden="true"></a><span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(HistData)) <span class="kw">install.packages</span>(<span class="st">&quot;HistData&quot;</span>)</span></code></pre></div>
<pre><code>## Loading required package: HistData</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="section-1-introduction-to-regression-overview.html#cb16-1" aria-hidden="true"></a><span class="kw">library</span>(HistData)</span>
<span id="cb16-2"><a href="section-1-introduction-to-regression-overview.html#cb16-2" aria-hidden="true"></a><span class="kw">data</span>(<span class="st">&quot;GaltonFamilies&quot;</span>)</span>
<span id="cb16-3"><a href="section-1-introduction-to-regression-overview.html#cb16-3" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1983</span>)</span>
<span id="cb16-4"><a href="section-1-introduction-to-regression-overview.html#cb16-4" aria-hidden="true"></a>galton_heights &lt;-<span class="st"> </span>GaltonFamilies <span class="op">%&gt;%</span></span>
<span id="cb16-5"><a href="section-1-introduction-to-regression-overview.html#cb16-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> &quot;male&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb16-6"><a href="section-1-introduction-to-regression-overview.html#cb16-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">group_by</span>(family) <span class="op">%&gt;%</span></span>
<span id="cb16-7"><a href="section-1-introduction-to-regression-overview.html#cb16-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">1</span>) <span class="op">%&gt;%</span></span>
<span id="cb16-8"><a href="section-1-introduction-to-regression-overview.html#cb16-8" aria-hidden="true"></a><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></span>
<span id="cb16-9"><a href="section-1-introduction-to-regression-overview.html#cb16-9" aria-hidden="true"></a><span class="st">  </span><span class="kw">select</span>(father, childHeight) <span class="op">%&gt;%</span></span>
<span id="cb16-10"><a href="section-1-introduction-to-regression-overview.html#cb16-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">son =</span> childHeight)</span>
<span id="cb16-11"><a href="section-1-introduction-to-regression-overview.html#cb16-11" aria-hidden="true"></a></span>
<span id="cb16-12"><a href="section-1-introduction-to-regression-overview.html#cb16-12" aria-hidden="true"></a><span class="co"># means and standard deviations</span></span>
<span id="cb16-13"><a href="section-1-introduction-to-regression-overview.html#cb16-13" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span></span>
<span id="cb16-14"><a href="section-1-introduction-to-regression-overview.html#cb16-14" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="kw">mean</span>(father), <span class="kw">sd</span>(father), <span class="kw">mean</span>(son), <span class="kw">sd</span>(son))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 4
##   `mean(father)` `sd(father)` `mean(son)` `sd(son)`
##            &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
## 1           69.1         2.55        69.2      2.71</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="section-1-introduction-to-regression-overview.html#cb18-1" aria-hidden="true"></a><span class="co"># scatterplot of father and son heights</span></span>
<span id="cb18-2"><a href="section-1-introduction-to-regression-overview.html#cb18-2" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span></span>
<span id="cb18-3"><a href="section-1-introduction-to-regression-overview.html#cb18-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(father, son)) <span class="op">+</span></span>
<span id="cb18-4"><a href="section-1-introduction-to-regression-overview.html#cb18-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="correlation-coefficient" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Correlation Coefficient</h2>
<p>The corresponding textbook section is <a href="https://rafalab.github.io/dsbook/regression.html#corr-coef" target="_blank">the correlation coefficient</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>The correlation coefficient is defined for a list of pairs <span class="math inline">\((x_1, y_1), ..., (x_n, y_n)\)</span> as the product of the standardized values: <span class="math inline">\((\frac{x_i - \mu_x}{\sigma_x})(\frac{y_i -\mu_y}{\sigma_y})\)</span>.</li>
<li>The correlation coefficient essentially conveys how two variables move together.</li>
<li>The correlation coefficient is always between -1 and 1.</li>
</ul>
<p><em>Code</em></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="section-1-introduction-to-regression-overview.html#cb19-1" aria-hidden="true"></a>rho &lt;-<span class="st"> </span><span class="kw">mean</span>(<span class="kw">scale</span>(x)<span class="op">*</span><span class="kw">scale</span>(y))</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="section-1-introduction-to-regression-overview.html#cb20-1" aria-hidden="true"></a>galton_heights &lt;-<span class="st"> </span>GaltonFamilies <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(childNum <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">&amp;</span><span class="st"> </span>gender <span class="op">==</span><span class="st"> &quot;male&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(father, childHeight) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">rename</span>(<span class="dt">son =</span> childHeight)</span>
<span id="cb20-2"><a href="section-1-introduction-to-regression-overview.html#cb20-2" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize</span>(<span class="dt">r =</span> <span class="kw">cor</span>(father, son)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(r)</span></code></pre></div>
<pre><code>## [1] 0.5007248</code></pre>
</div>
<div id="sample-correlation-is-a-random-variable" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Sample Correlation is a Random Variable</h2>
<p>The corresponding textbook section is <a href="https://rafalab.github.io/dsbook/regression.html#sample-correlation-is-a-random-variable" target="_blank">Sample correlation is a random variable</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>The correlation that we compute and use as a summary is a random variable.</li>
<li>When interpreting correlations, it is important to remember that correlations derived from samples are estimates containing uncertainty.</li>
<li>Because the sample correlation is an average of independent draws, the central limit theorem applies.</li>
</ul>
<p><em>Code</em></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="section-1-introduction-to-regression-overview.html#cb22-1" aria-hidden="true"></a><span class="co"># compute sample correlation</span></span>
<span id="cb22-2"><a href="section-1-introduction-to-regression-overview.html#cb22-2" aria-hidden="true"></a>R &lt;-<span class="st"> </span><span class="kw">sample_n</span>(galton_heights, <span class="dv">25</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb22-3"><a href="section-1-introduction-to-regression-overview.html#cb22-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">r =</span> <span class="kw">cor</span>(father, son))</span>
<span id="cb22-4"><a href="section-1-introduction-to-regression-overview.html#cb22-4" aria-hidden="true"></a>R</span></code></pre></div>
<pre><code>##           r
## 1 0.4787613</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="section-1-introduction-to-regression-overview.html#cb24-1" aria-hidden="true"></a><span class="co"># Monte Carlo simulation to show distribution of sample correlation</span></span>
<span id="cb24-2"><a href="section-1-introduction-to-regression-overview.html#cb24-2" aria-hidden="true"></a>B &lt;-<span class="st"> </span><span class="dv">1000</span></span>
<span id="cb24-3"><a href="section-1-introduction-to-regression-overview.html#cb24-3" aria-hidden="true"></a>N &lt;-<span class="st"> </span><span class="dv">25</span></span>
<span id="cb24-4"><a href="section-1-introduction-to-regression-overview.html#cb24-4" aria-hidden="true"></a>R &lt;-<span class="st"> </span><span class="kw">replicate</span>(B, {</span>
<span id="cb24-5"><a href="section-1-introduction-to-regression-overview.html#cb24-5" aria-hidden="true"></a>    <span class="kw">sample_n</span>(galton_heights, N, <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb24-6"><a href="section-1-introduction-to-regression-overview.html#cb24-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">r =</span> <span class="kw">cor</span>(father, son)) <span class="op">%&gt;%</span></span>
<span id="cb24-7"><a href="section-1-introduction-to-regression-overview.html#cb24-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">pull</span>(r)</span>
<span id="cb24-8"><a href="section-1-introduction-to-regression-overview.html#cb24-8" aria-hidden="true"></a>})</span>
<span id="cb24-9"><a href="section-1-introduction-to-regression-overview.html#cb24-9" aria-hidden="true"></a><span class="kw">qplot</span>(R, <span class="dt">geom =</span> <span class="st">&quot;histogram&quot;</span>, <span class="dt">binwidth =</span> <span class="fl">0.05</span>, <span class="dt">color =</span> <span class="kw">I</span>(<span class="st">&quot;black&quot;</span>))</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="section-1-introduction-to-regression-overview.html#cb25-1" aria-hidden="true"></a><span class="co"># expected value and standard error</span></span>
<span id="cb25-2"><a href="section-1-introduction-to-regression-overview.html#cb25-2" aria-hidden="true"></a><span class="kw">mean</span>(R)</span></code></pre></div>
<pre><code>## [1] 0.4970997</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="section-1-introduction-to-regression-overview.html#cb27-1" aria-hidden="true"></a><span class="kw">sd</span>(R)</span></code></pre></div>
<pre><code>## [1] 0.1512451</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="section-1-introduction-to-regression-overview.html#cb29-1" aria-hidden="true"></a><span class="co"># QQ-plot to evaluate whether N is large enough</span></span>
<span id="cb29-2"><a href="section-1-introduction-to-regression-overview.html#cb29-2" aria-hidden="true"></a><span class="kw">data.frame</span>(R) <span class="op">%&gt;%</span></span>
<span id="cb29-3"><a href="section-1-introduction-to-regression-overview.html#cb29-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> R)) <span class="op">+</span></span>
<span id="cb29-4"><a href="section-1-introduction-to-regression-overview.html#cb29-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">stat_qq</span>() <span class="op">+</span></span>
<span id="cb29-5"><a href="section-1-introduction-to-regression-overview.html#cb29-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">intercept =</span> <span class="kw">mean</span>(R), <span class="dt">slope =</span> <span class="kw">sqrt</span>((<span class="dv">1</span><span class="op">-</span><span class="kw">mean</span>(R)<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(N<span class="dv">-2</span>)))</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-15-2.png" width="672" /></p>
</div>
<div id="assessment---correlation" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Assessment - Correlation</h2>
<ol style="list-style-type: decimal">
<li>While studying heredity, Francis Galton developed what important statistical concept?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. Standard deviation</li>
<li><input type="checkbox" disabled="" />
B. Normal distribution</li>
<li><input type="checkbox" disabled="" checked="" />
C. Correlation</li>
<li><input type="checkbox" disabled="" />
D. Probability</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>The correlation coefficient is a summary of what?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. The trend between two variables</li>
<li><input type="checkbox" disabled="" />
B. The dispersion of a variable</li>
<li><input type="checkbox" disabled="" />
C. The central tendency of a variable</li>
<li><input type="checkbox" disabled="" />
D. The distribution of a variable</li>
</ul>
<div style="page-break-after: always;"></div>
<ol start="3" style="list-style-type: decimal">
<li>Below is a scatter plot showing the relationship between two variables, x and y.</li>
</ol>
<div class="figure">
<img src="images/scatterplot_x_y.png" alt="" />
<p class="caption">Scatter plot relationship x and y</p>
</div>
<p>From this figure, the correlation between x and y appears to be about:</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. -0.9</li>
<li><input type="checkbox" disabled="" />
B. -0.2</li>
<li><input type="checkbox" disabled="" />
C. 0.9</li>
<li><input type="checkbox" disabled="" />
D. 2</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Instead of running a Monte Carlo simulation with a sample size of 25 from our 179 father-son pairs, we now run our simulation with a sample size of 50.</li>
</ol>
<p>Would you expect the <strong>mean</strong> of our sample correlation to increase, decrease, or stay approximately the same?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. Increase</li>
<li><input type="checkbox" disabled="" />
B. Decrease</li>
<li><input type="checkbox" disabled="" checked="" />
C. Stay approximately the same</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>Instead of running a Monte Carlo simulation with a sample size of 25 from our 179 father-son pairs, we now run our simulation with a sample size of 50.</li>
</ol>
<p>Would you expect the <strong>standard deviation</strong> of our sample correlation to increase, decrease, or stay approximately the same?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. Increase</li>
<li><input type="checkbox" disabled="" checked="" />
B. Decrease</li>
<li><input type="checkbox" disabled="" />
C. Stay approximately the same</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>If X and Y are completely independent, what do you expect the value of the correlation coefficient to be?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. -1</li>
<li><input type="checkbox" disabled="" />
B. -0.5</li>
<li><input type="checkbox" disabled="" checked="" />
C. 0</li>
<li><input type="checkbox" disabled="" />
D. 0.5</li>
<li><input type="checkbox" disabled="" />
E. 1</li>
<li><input type="checkbox" disabled="" />
F. Not enough information to answer the question</li>
</ul>
<ol start="7" style="list-style-type: decimal">
<li>Load the <strong>Lahman</strong> library. Filter the <code>Teams</code> data frame to include years from 1961 to 2001.</li>
</ol>
<p>What is the correlation coefficient between number of runs per game and number of at bats per game?</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="section-1-introduction-to-regression-overview.html#cb30-1" aria-hidden="true"></a>Teams_small &lt;-<span class="st"> </span>Teams <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(yearID <span class="op">%in%</span><span class="st"> </span><span class="dv">1961</span><span class="op">:</span><span class="dv">2001</span>)</span>
<span id="cb30-2"><a href="section-1-introduction-to-regression-overview.html#cb30-2" aria-hidden="true"></a><span class="kw">cor</span>(Teams_small<span class="op">$</span>R<span class="op">/</span>Teams_small<span class="op">$</span>G, Teams_small<span class="op">$</span>AB<span class="op">/</span>Teams_small<span class="op">$</span>G)</span></code></pre></div>
<pre><code>## [1] 0.6580976</code></pre>
<ol start="8" style="list-style-type: decimal">
<li>Use the filtered <code>Teams</code> data frame from Question 7.</li>
</ol>
<p>What is the correlation coefficient between win rate (number of wins per game) and number of errors per game?</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="section-1-introduction-to-regression-overview.html#cb32-1" aria-hidden="true"></a><span class="kw">cor</span>(Teams_small<span class="op">$</span>W<span class="op">/</span>Teams_small<span class="op">$</span>G, Teams_small<span class="op">$</span>E<span class="op">/</span>Teams_small<span class="op">$</span>G)</span></code></pre></div>
<pre><code>## [1] -0.3396947</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Use the filtered <code>Teams</code> data frame from Question 7.</li>
</ol>
<p>What is the correlation coefficient between doubles (<code>X2B</code>) per game and triples (<code>X3B</code>) per game?</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="section-1-introduction-to-regression-overview.html#cb34-1" aria-hidden="true"></a><span class="kw">cor</span>(Teams_small<span class="op">$</span>X2B<span class="op">/</span>Teams_small<span class="op">$</span>G, Teams_small<span class="op">$</span>X3B<span class="op">/</span>Teams_small<span class="op">$</span>G)</span></code></pre></div>
<pre><code>## [1] -0.01157404</code></pre>
</div>
<div id="anscombes-quartetstratification" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> Anscombe’s Quartet/Stratification</h2>
<p>There are three links to relevant sections of the textbook:</p>
<ul>
<li><a href="https://rafalab.github.io/dsbook/regression.html#correlation-is-not-always-a-useful-summary" target="_blank">Correlation is not always a useful summary</a></li>
<li><a href="https://rafalab.github.io/dsbook/regression.html#conditional-expectation" target="_blank">Conditional expectation</a></li>
<li><a href="https://rafalab.github.io/dsbook/regression.html#the-regression-line" target="_blank">The regression line</a></li>
</ul>
<p><strong>Key points</strong></p>
<ul>
<li>Correlation is not always a good summary of the relationship between two variables.</li>
<li>The general idea of conditional expectation is that we stratify a population into groups and compute summaries in each group.</li>
<li>A practical way to improve the estimates of the conditional expectations is to define strata of with similar values of x.</li>
<li>If there is perfect correlation, the regression line predicts an increase that is the same number of SDs for both variables. If there is 0 correlation, then we don’t use x at all for the prediction and simply predict the average <span class="math inline">\(\mu_y\)</span>. For values between 0 and 1, the prediction is somewhere in between. If the correlation is negative, we predict a reduction instead of an increase.</li>
</ul>
<p><em>Code</em></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="section-1-introduction-to-regression-overview.html#cb36-1" aria-hidden="true"></a><span class="co"># number of fathers with height 72 or 72.5 inches</span></span>
<span id="cb36-2"><a href="section-1-introduction-to-regression-overview.html#cb36-2" aria-hidden="true"></a><span class="kw">sum</span>(galton_heights<span class="op">$</span>father <span class="op">==</span><span class="st"> </span><span class="dv">72</span>)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="section-1-introduction-to-regression-overview.html#cb38-1" aria-hidden="true"></a><span class="kw">sum</span>(galton_heights<span class="op">$</span>father <span class="op">==</span><span class="st"> </span><span class="fl">72.5</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="section-1-introduction-to-regression-overview.html#cb40-1" aria-hidden="true"></a><span class="co"># predicted height of a son with a 72 inch tall father</span></span>
<span id="cb40-2"><a href="section-1-introduction-to-regression-overview.html#cb40-2" aria-hidden="true"></a>conditional_avg &lt;-<span class="st"> </span>galton_heights <span class="op">%&gt;%</span></span>
<span id="cb40-3"><a href="section-1-introduction-to-regression-overview.html#cb40-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">filter</span>(<span class="kw">round</span>(father) <span class="op">==</span><span class="st"> </span><span class="dv">72</span>) <span class="op">%&gt;%</span></span>
<span id="cb40-4"><a href="section-1-introduction-to-regression-overview.html#cb40-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">avg =</span> <span class="kw">mean</span>(son)) <span class="op">%&gt;%</span></span>
<span id="cb40-5"><a href="section-1-introduction-to-regression-overview.html#cb40-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">pull</span>(avg)</span>
<span id="cb40-6"><a href="section-1-introduction-to-regression-overview.html#cb40-6" aria-hidden="true"></a>conditional_avg</span></code></pre></div>
<pre><code>## [1] 71.83571</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="section-1-introduction-to-regression-overview.html#cb42-1" aria-hidden="true"></a><span class="co"># stratify fathers&#39; heights to make a boxplot of son heights</span></span>
<span id="cb42-2"><a href="section-1-introduction-to-regression-overview.html#cb42-2" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">father_strata =</span> <span class="kw">factor</span>(<span class="kw">round</span>(father))) <span class="op">%&gt;%</span></span>
<span id="cb42-3"><a href="section-1-introduction-to-regression-overview.html#cb42-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(father_strata, son)) <span class="op">+</span></span>
<span id="cb42-4"><a href="section-1-introduction-to-regression-overview.html#cb42-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb42-5"><a href="section-1-introduction-to-regression-overview.html#cb42-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-19-1.png" width="672" /></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="section-1-introduction-to-regression-overview.html#cb43-1" aria-hidden="true"></a><span class="co"># center of each boxplot</span></span>
<span id="cb43-2"><a href="section-1-introduction-to-regression-overview.html#cb43-2" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span></span>
<span id="cb43-3"><a href="section-1-introduction-to-regression-overview.html#cb43-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">father =</span> <span class="kw">round</span>(father)) <span class="op">%&gt;%</span></span>
<span id="cb43-4"><a href="section-1-introduction-to-regression-overview.html#cb43-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">group_by</span>(father) <span class="op">%&gt;%</span></span>
<span id="cb43-5"><a href="section-1-introduction-to-regression-overview.html#cb43-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">son_conditional_avg =</span> <span class="kw">mean</span>(son)) <span class="op">%&gt;%</span></span>
<span id="cb43-6"><a href="section-1-introduction-to-regression-overview.html#cb43-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(father, son_conditional_avg)) <span class="op">+</span></span>
<span id="cb43-7"><a href="section-1-introduction-to-regression-overview.html#cb43-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>()</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p><img src="img/figures/unnamed-chunk-19-2.png" width="672" /></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="section-1-introduction-to-regression-overview.html#cb45-1" aria-hidden="true"></a><span class="co"># calculate values to plot regression line on original data</span></span>
<span id="cb45-2"><a href="section-1-introduction-to-regression-overview.html#cb45-2" aria-hidden="true"></a>mu_x &lt;-<span class="st"> </span><span class="kw">mean</span>(galton_heights<span class="op">$</span>father)</span>
<span id="cb45-3"><a href="section-1-introduction-to-regression-overview.html#cb45-3" aria-hidden="true"></a>mu_y &lt;-<span class="st"> </span><span class="kw">mean</span>(galton_heights<span class="op">$</span>son)</span>
<span id="cb45-4"><a href="section-1-introduction-to-regression-overview.html#cb45-4" aria-hidden="true"></a>s_x &lt;-<span class="st"> </span><span class="kw">sd</span>(galton_heights<span class="op">$</span>father)</span>
<span id="cb45-5"><a href="section-1-introduction-to-regression-overview.html#cb45-5" aria-hidden="true"></a>s_y &lt;-<span class="st"> </span><span class="kw">sd</span>(galton_heights<span class="op">$</span>son)</span>
<span id="cb45-6"><a href="section-1-introduction-to-regression-overview.html#cb45-6" aria-hidden="true"></a>r &lt;-<span class="st"> </span><span class="kw">cor</span>(galton_heights<span class="op">$</span>father, galton_heights<span class="op">$</span>son)</span>
<span id="cb45-7"><a href="section-1-introduction-to-regression-overview.html#cb45-7" aria-hidden="true"></a>m &lt;-<span class="st"> </span>r <span class="op">*</span><span class="st"> </span>s_y<span class="op">/</span>s_x</span>
<span id="cb45-8"><a href="section-1-introduction-to-regression-overview.html#cb45-8" aria-hidden="true"></a>b &lt;-<span class="st"> </span>mu_y <span class="op">-</span><span class="st"> </span>m<span class="op">*</span>mu_x</span>
<span id="cb45-9"><a href="section-1-introduction-to-regression-overview.html#cb45-9" aria-hidden="true"></a></span>
<span id="cb45-10"><a href="section-1-introduction-to-regression-overview.html#cb45-10" aria-hidden="true"></a><span class="co"># add regression line to plot</span></span>
<span id="cb45-11"><a href="section-1-introduction-to-regression-overview.html#cb45-11" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span></span>
<span id="cb45-12"><a href="section-1-introduction-to-regression-overview.html#cb45-12" aria-hidden="true"></a><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(father, son)) <span class="op">+</span></span>
<span id="cb45-13"><a href="section-1-introduction-to-regression-overview.html#cb45-13" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb45-14"><a href="section-1-introduction-to-regression-overview.html#cb45-14" aria-hidden="true"></a><span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">intercept =</span> b, <span class="dt">slope =</span> m)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-19-3.png" width="672" /></p>
</div>
<div id="bivariate-normal-distribution" class="section level2" number="2.10">
<h2><span class="header-section-number">2.10</span> Bivariate Normal Distribution</h2>
<p>There is a link to the relevant section of the textbook: <a href="https://rafalab.github.io/dsbook/regression.html#bivariate-normal-distribution-advanced" target="_blank">Bivariate normal distribution (advanced)</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>When a pair of random variables are approximated by the bivariate normal distribution, scatterplots look like ovals. They can be thin (high correlation) or circle-shaped (no correlation).</li>
<li>When two variables follow a bivariate normal distribution, computing the regression line is equivalent to computing conditional expectations.</li>
<li>We can obtain a much more stable estimate of the conditional expectation by finding the regression line and using it to make predictions.</li>
</ul>
<p><em>Code</em></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="section-1-introduction-to-regression-overview.html#cb46-1" aria-hidden="true"></a>galton_heights <span class="op">%&gt;%</span></span>
<span id="cb46-2"><a href="section-1-introduction-to-regression-overview.html#cb46-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">z_father =</span> <span class="kw">round</span>((father <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(father)) <span class="op">/</span><span class="st"> </span><span class="kw">sd</span>(father))) <span class="op">%&gt;%</span></span>
<span id="cb46-3"><a href="section-1-introduction-to-regression-overview.html#cb46-3" aria-hidden="true"></a><span class="st">  </span><span class="kw">filter</span>(z_father <span class="op">%in%</span><span class="st"> </span><span class="dv">-2</span><span class="op">:</span><span class="dv">2</span>) <span class="op">%&gt;%</span></span>
<span id="cb46-4"><a href="section-1-introduction-to-regression-overview.html#cb46-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st">  </span></span>
<span id="cb46-5"><a href="section-1-introduction-to-regression-overview.html#cb46-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">stat_qq</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> son)) <span class="op">+</span></span>
<span id="cb46-6"><a href="section-1-introduction-to-regression-overview.html#cb46-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">facet_wrap</span>( <span class="op">~</span><span class="st"> </span>z_father)</span></code></pre></div>
<p><img src="img/figures/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="variance-explained" class="section level2" number="2.11">
<h2><span class="header-section-number">2.11</span> Variance Explained</h2>
<p>There is a link to the relevant section of the textbook: <a href="https://rafalab.github.io/dsbook/regression.html#variance-explained" target="_blank">Variance explained</a></p>
<p><strong>Key points</strong></p>
<ul>
<li>Conditioning on a random variable X can help to reduce variance of response variable Y.</li>
<li>The standard deviation of the conditional distribution is <span class="math inline">\(\mbox{SD}(Y \mid X=x) = \sigma_y\sqrt{1-\rho^2}\)</span>, which is smaller than the standard deviation without conditioning <span class="math inline">\(\sigma_y\)</span>.</li>
<li>Because variance is the standard deviation squared, the variance of the conditional distribution is <span class="math inline">\(\sigma_y^2(1-\rho^2)\)</span>.</li>
<li>In the statement “X explains such and such percent of the variability,” the percent value refers to the variance. The variance decreases by <span class="math inline">\(\rho^2\)</span> percent.</li>
<li>The “variance explained” statement only makes sense when the data is approximated by a bivariate normal distribution.</li>
</ul>
</div>
<div id="there-are-two-regression-lines" class="section level2" number="2.12">
<h2><span class="header-section-number">2.12</span> There are Two Regression Lines</h2>
<p>There is a link to the relevant section of the textbook: <a href="https://rafalab.github.io/dsbook/regression.html#warning-there-are-two-regression-lines" target="_blank">Warning: there are two regression lines</a></p>
<p><strong>Key point</strong></p>
<p>There are two different regression lines depending on whether we are taking the expectation of Y given X or taking the expectation of X given Y.</p>
<p><em>Code</em></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="section-1-introduction-to-regression-overview.html#cb47-1" aria-hidden="true"></a><span class="co"># compute a regression line to predict the son&#39;s height from the father&#39;s height</span></span>
<span id="cb47-2"><a href="section-1-introduction-to-regression-overview.html#cb47-2" aria-hidden="true"></a>mu_x &lt;-<span class="st"> </span><span class="kw">mean</span>(galton_heights<span class="op">$</span>father)</span>
<span id="cb47-3"><a href="section-1-introduction-to-regression-overview.html#cb47-3" aria-hidden="true"></a>mu_y &lt;-<span class="st"> </span><span class="kw">mean</span>(galton_heights<span class="op">$</span>son)</span>
<span id="cb47-4"><a href="section-1-introduction-to-regression-overview.html#cb47-4" aria-hidden="true"></a>s_x &lt;-<span class="st"> </span><span class="kw">sd</span>(galton_heights<span class="op">$</span>father)</span>
<span id="cb47-5"><a href="section-1-introduction-to-regression-overview.html#cb47-5" aria-hidden="true"></a>s_y &lt;-<span class="st"> </span><span class="kw">sd</span>(galton_heights<span class="op">$</span>son)</span>
<span id="cb47-6"><a href="section-1-introduction-to-regression-overview.html#cb47-6" aria-hidden="true"></a>r &lt;-<span class="st"> </span><span class="kw">cor</span>(galton_heights<span class="op">$</span>father, galton_heights<span class="op">$</span>son)</span>
<span id="cb47-7"><a href="section-1-introduction-to-regression-overview.html#cb47-7" aria-hidden="true"></a>m_<span class="dv">1</span> &lt;-<span class="st">  </span>r <span class="op">*</span><span class="st"> </span>s_y <span class="op">/</span><span class="st"> </span>s_x</span>
<span id="cb47-8"><a href="section-1-introduction-to-regression-overview.html#cb47-8" aria-hidden="true"></a>b_<span class="dv">1</span> &lt;-<span class="st"> </span>mu_y <span class="op">-</span><span class="st"> </span>m_<span class="dv">1</span><span class="op">*</span>mu_x</span>
<span id="cb47-9"><a href="section-1-introduction-to-regression-overview.html#cb47-9" aria-hidden="true"></a>m_<span class="dv">1</span> <span class="co"># slope 1</span></span></code></pre></div>
<pre><code>## [1] 0.5027904</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="section-1-introduction-to-regression-overview.html#cb49-1" aria-hidden="true"></a>b_<span class="dv">1</span> <span class="co"># intercept 1</span></span></code></pre></div>
<pre><code>## [1] 35.71249</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="section-1-introduction-to-regression-overview.html#cb51-1" aria-hidden="true"></a><span class="co"># compute a regression line to predict the father&#39;s height from the son&#39;s height</span></span>
<span id="cb51-2"><a href="section-1-introduction-to-regression-overview.html#cb51-2" aria-hidden="true"></a>m_<span class="dv">2</span> &lt;-<span class="st">  </span>r <span class="op">*</span><span class="st"> </span>s_x <span class="op">/</span><span class="st"> </span>s_y</span>
<span id="cb51-3"><a href="section-1-introduction-to-regression-overview.html#cb51-3" aria-hidden="true"></a>b_<span class="dv">2</span> &lt;-<span class="st"> </span>mu_x <span class="op">-</span><span class="st"> </span>m_<span class="dv">2</span><span class="op">*</span>mu_y</span>
<span id="cb51-4"><a href="section-1-introduction-to-regression-overview.html#cb51-4" aria-hidden="true"></a>m_<span class="dv">2</span> <span class="co"># slope 2</span></span></code></pre></div>
<pre><code>## [1] 0.4986676</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="section-1-introduction-to-regression-overview.html#cb53-1" aria-hidden="true"></a>b_<span class="dv">2</span> <span class="co"># intercept 2</span></span></code></pre></div>
<pre><code>## [1] 33.96539</code></pre>
<div style="page-break-after: always;"></div>
</div>
<div id="assessment---stratification-and-variance-explained-part-1" class="section level2" number="2.13">
<h2><span class="header-section-number">2.13</span> Assessment - Stratification and Variance Explained, Part 1</h2>
<ol style="list-style-type: decimal">
<li>Look at the figure below. The slope of the regression line in this figure is equal to what, in words?</li>
</ol>
<div class="figure">
<img src="images/regression_line_father_son.png" alt="" />
<p class="caption">Scatter plot and regression line of son and father heights</p>
</div>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. Slope = (correlation coefficient of son and father heights) * (standard deviation of sons’ heights / standard deviation of fathers’ heights)</li>
<li><input type="checkbox" disabled="" />
B. Slope = (correlation coefficient of son and father heights) * (standard deviation of fathers’ heights / standard deviation of sons’ heights)</li>
<li><input type="checkbox" disabled="" />
C. Slope = (correlation coefficient of son and father heights) / (standard deviation of sons’ heights * standard deviation of fathers’ heights)</li>
<li><input type="checkbox" disabled="" />
D. Slope = (mean height of fathers) - (correlation coefficient of son and father heights * mean height of sons).</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Why does the regression line simplify to a line with intercept zero and slope <span class="math inline">\(\rho\)</span> when we standardize our x and y variables? Try the simplification on your own first!</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. When we standardize variables, both x and y will have a mean of one and a standard deviation of zero. When you substitute this into the formula for the regression line, the terms cancel out until we have the following equation: <span class="math inline">\(y_i = \rho x_i\)</span>.</li>
<li><input type="checkbox" disabled="" checked="" />
B. When we standardize variables, both x and y will have a mean of zero and a standard deviation of one. When you substitute this into the formula for the regression line, the terms cancel out until we have the following equation: <span class="math inline">\(y_i = \rho x_i\)</span>.</li>
<li><input type="checkbox" disabled="" />
C. When we standardize variables, both x and y will have a mean of zero and a standard deviation of one. When you substitute this into the formula for the regression line, the terms cancel out until we have the following equation: <span class="math inline">\(y_i = \rho + x_i\)</span>.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>What is a limitation of calculating conditional means?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. Each stratum we condition on (e.g., a specific father’s height) may not have many data points.</li>
<li><input type="checkbox" disabled="" checked="" />
B. Because there are limited data points for each stratum, our average values have large standard errors.</li>
<li><input type="checkbox" disabled="" checked="" />
C. Conditional means are less stable than a regression line.</li>
<li><input type="checkbox" disabled="" />
D. Conditional means are a useful theoretical tool but cannot be calculated.</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>A regression line is the best prediction of Y given we know the value of X when:</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A. X and Y follow a bivariate normal distribution.</li>
<li><input type="checkbox" disabled="" />
B. Both X and Y are normally distributed.</li>
<li><input type="checkbox" disabled="" />
C. Both X and Y have been standardized.</li>
<li><input type="checkbox" disabled="" />
D. There are at least 25 X-Y pairs.</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>Which one of the following scatterplots depicts an x and y distribution that is NOT well-approximated by the bivariate normal distribution?</li>
</ol>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
A.</li>
</ul>
<p><img src="images/5_answer_A.png" /></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
B.</li>
</ul>
<p><img src="images/5_answer_B.png" /></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
C.</li>
</ul>
<p><img src="images/5_answer_C.png" /></p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
D.</li>
</ul>
<p><img src="images/5_answer_D.png" /></p>
<ol start="6" style="list-style-type: decimal">
<li>We previously calculated that the correlation coefficient between fathers’ and sons’ heights is 0.5.</li>
</ol>
<p>Given this, what percent of the variation in sons’ heights is explained by fathers’ heights?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. 0%</li>
<li><input type="checkbox" disabled="" checked="" />
B. 25%</li>
<li><input type="checkbox" disabled="" />
C. 50%</li>
<li><input type="checkbox" disabled="" />
D. 75%</li>
</ul>
<p>When two variables follow a bivariate normal distribution, the variation explained can be calculated as <span class="math inline">\(\rho^2 \times 100\)</span>.</p>
<ol start="7" style="list-style-type: decimal">
<li>Suppose the correlation between father and son’s height is 0.5, the standard deviation of fathers’ heights is 2 inches, and the standard deviation of sons’ heights is 3 inches.</li>
</ol>
<p>Given a one inch increase in a father’s height, what is the predicted change in the son’s height?</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
A. 0.333</li>
<li><input type="checkbox" disabled="" />
B. 0.5</li>
<li><input type="checkbox" disabled="" />
C. 0.667</li>
<li><input type="checkbox" disabled="" checked="" />
D. 0.75</li>
<li><input type="checkbox" disabled="" />
E. 1</li>
<li><input type="checkbox" disabled="" />
F. 1.5</li>
</ul>
<p>The slope of the regression line is calculated by multiplying the correlation coefficient by the ratio of the standard deviation of son heights and standard deviation of father heights: <span class="math inline">\(\sigma_{son}/\sigma_{father}\)</span>.</p>
</div>
<div id="assessment---stratification-and-variance-explained-part-2" class="section level2" number="2.14">
<h2><span class="header-section-number">2.14</span> Assessment - Stratification and Variance Explained, Part 2</h2>
<p>In the second part of this assessment, you’ll analyze a set of mother and daughter heights, also from <code>GaltonFamilies</code>.</p>
<p>Define <code>female_heights</code>, a set of mother and daughter heights sampled from <code>GaltonFamilies</code>, as follows:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="section-1-introduction-to-regression-overview.html#cb55-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1989</span>, <span class="dt">sample.kind=</span><span class="st">&quot;Rounding&quot;</span>) <span class="co">#if you are using R 3.6 or later</span></span></code></pre></div>
<pre><code>## Warning in set.seed(1989, sample.kind = &quot;Rounding&quot;): non-uniform &#39;Rounding&#39; sampler used</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="section-1-introduction-to-regression-overview.html#cb57-1" aria-hidden="true"></a>female_heights &lt;-<span class="st"> </span>GaltonFamilies<span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb57-2"><a href="section-1-introduction-to-regression-overview.html#cb57-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">filter</span>(gender <span class="op">==</span><span class="st"> &quot;female&quot;</span>) <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb57-3"><a href="section-1-introduction-to-regression-overview.html#cb57-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">group_by</span>(family) <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb57-4"><a href="section-1-introduction-to-regression-overview.html#cb57-4" aria-hidden="true"></a><span class="st">    </span><span class="kw">sample_n</span>(<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb57-5"><a href="section-1-introduction-to-regression-overview.html#cb57-5" aria-hidden="true"></a><span class="st">    </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb57-6"><a href="section-1-introduction-to-regression-overview.html#cb57-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">select</span>(mother, childHeight) <span class="op">%&gt;%</span><span class="st">     </span></span>
<span id="cb57-7"><a href="section-1-introduction-to-regression-overview.html#cb57-7" aria-hidden="true"></a><span class="st">    </span><span class="kw">rename</span>(<span class="dt">daughter =</span> childHeight)</span></code></pre></div>
<ol start="8" style="list-style-type: decimal">
<li>Calculate the mean and standard deviation of mothers’ heights, the mean and standard deviation of daughters’ heights, and the correlaton coefficient between mother and daughter heights.</li>
</ol>
<p>Mean of mothers’ heights</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="section-1-introduction-to-regression-overview.html#cb58-1" aria-hidden="true"></a><span class="kw">mean</span>(female_heights<span class="op">$</span>mother)</span></code></pre></div>
<pre><code>## [1] 64.125</code></pre>
<p>Standard deviation of mothers’ heights</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="section-1-introduction-to-regression-overview.html#cb60-1" aria-hidden="true"></a><span class="kw">sd</span>(female_heights<span class="op">$</span>mother)</span></code></pre></div>
<pre><code>## [1] 2.289292</code></pre>
<p>Mean of daughters’ heights</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="section-1-introduction-to-regression-overview.html#cb62-1" aria-hidden="true"></a><span class="kw">mean</span>(female_heights<span class="op">$</span>daughter)</span></code></pre></div>
<pre><code>## [1] 64.28011</code></pre>
<p>Standard deviation of daughters’ heights</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="section-1-introduction-to-regression-overview.html#cb64-1" aria-hidden="true"></a><span class="kw">sd</span>(female_heights<span class="op">$</span>daughter)</span></code></pre></div>
<pre><code>## [1] 2.39416</code></pre>
<p>Correlation coefficient</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="section-1-introduction-to-regression-overview.html#cb66-1" aria-hidden="true"></a><span class="kw">cor</span>(female_heights<span class="op">$</span>mother, female_heights<span class="op">$</span>daughter)</span></code></pre></div>
<pre><code>## [1] 0.3245199</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Calculate the slope and intercept of the regression line predicting daughters’ heights given mothers’ heights. Given an increase in mother’s height by 1 inch, how many inches is the daughter’s height expected to change?</li>
</ol>
<p>Slope of regression line predicting daughters’ height from mothers’ heights</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="section-1-introduction-to-regression-overview.html#cb68-1" aria-hidden="true"></a>r &lt;-<span class="st"> </span><span class="kw">cor</span>(female_heights<span class="op">$</span>mother, female_heights<span class="op">$</span>daughter)</span>
<span id="cb68-2"><a href="section-1-introduction-to-regression-overview.html#cb68-2" aria-hidden="true"></a>s_y &lt;-<span class="st"> </span><span class="kw">sd</span>(female_heights<span class="op">$</span>daughter)</span>
<span id="cb68-3"><a href="section-1-introduction-to-regression-overview.html#cb68-3" aria-hidden="true"></a>s_x &lt;-<span class="st"> </span><span class="kw">sd</span>(female_heights<span class="op">$</span>mother)</span>
<span id="cb68-4"><a href="section-1-introduction-to-regression-overview.html#cb68-4" aria-hidden="true"></a>r <span class="op">*</span><span class="st"> </span>s_y<span class="op">/</span>s_x</span></code></pre></div>
<pre><code>## [1] 0.3393856</code></pre>
<p>Intercept of regression line predicting daughters’ height from mothers’ heights</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="section-1-introduction-to-regression-overview.html#cb70-1" aria-hidden="true"></a>mu_y &lt;-<span class="st"> </span><span class="kw">mean</span>(female_heights<span class="op">$</span>daughter)</span>
<span id="cb70-2"><a href="section-1-introduction-to-regression-overview.html#cb70-2" aria-hidden="true"></a>mu_x &lt;-<span class="st"> </span><span class="kw">mean</span>(female_heights<span class="op">$</span>mother)</span>
<span id="cb70-3"><a href="section-1-introduction-to-regression-overview.html#cb70-3" aria-hidden="true"></a>mu_y <span class="op">-</span><span class="st"> </span>(r <span class="op">*</span><span class="st"> </span>s_y<span class="op">/</span>s_x)<span class="op">*</span>mu_x</span></code></pre></div>
<pre><code>## [1] 42.51701</code></pre>
<p>Change in daughter’s height in inches given a 1 inch increase in the mother’s height</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="section-1-introduction-to-regression-overview.html#cb72-1" aria-hidden="true"></a>r <span class="op">*</span><span class="st"> </span>s_y<span class="op">/</span>s_x</span></code></pre></div>
<pre><code>## [1] 0.3393856</code></pre>
<ol start="10" style="list-style-type: decimal">
<li>What percent of the variability in daughter heights is explained by the mother’s height?</li>
</ol>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="section-1-introduction-to-regression-overview.html#cb74-1" aria-hidden="true"></a>r<span class="op">^</span><span class="dv">2</span><span class="op">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 10.53132</code></pre>
<ol start="11" style="list-style-type: decimal">
<li>A mother has a height of 60 inches.</li>
</ol>
<p>What is the conditional expected value of her daughter’s height given the mother’s height?</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="section-1-introduction-to-regression-overview.html#cb76-1" aria-hidden="true"></a>m =<span class="st"> </span>r <span class="op">*</span><span class="st"> </span>s_y<span class="op">/</span>s_x</span>
<span id="cb76-2"><a href="section-1-introduction-to-regression-overview.html#cb76-2" aria-hidden="true"></a>b =<span class="st"> </span>mu_y <span class="op">-</span><span class="st"> </span>(r <span class="op">*</span><span class="st"> </span>s_y<span class="op">/</span>s_x)<span class="op">*</span>mu_x</span>
<span id="cb76-3"><a href="section-1-introduction-to-regression-overview.html#cb76-3" aria-hidden="true"></a>x =<span class="st"> </span><span class="dv">60</span></span>
<span id="cb76-4"><a href="section-1-introduction-to-regression-overview.html#cb76-4" aria-hidden="true"></a>m<span class="op">*</span>x<span class="op">+</span>b</span></code></pre></div>
<pre><code>## [1] 62.88015</code></pre>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="learning-objectives.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="section-2-linear-models-overview.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
